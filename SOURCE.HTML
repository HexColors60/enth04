<html><head><title>SOURCE.BLK</title></head><body bgcolor="#000000"><font face="courier" size="5"><b><font><p></font><font color="#ffffff"> &nbsp;save<br> ok</font><font color="#0099ff"> &nbsp;Hey there. Hit ALT to see a shadow block with info.<br></font><font color="#ffffff"> ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok save<br> ok<br> &nbsp;ok</font><font color="#00ffff"> &nbsp;0</font><font color="#ffffff"> block dump<br> ok save<br> ok .s<br> ok</font><font color="#00ffff"> &nbsp;0</font><font color="#ffffff"> block dump<br> ok<br> &nbsp;ok<br> &nbsp;ok save<br> ok<br> &nbsp;ok save<br> ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok save<br> ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok .s<br> ok tetris<br> ok mem<br> ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok warm<br> ok mem<br> ok warm<br> ok<br> &nbsp;ok mem<br> ok<br> &nbsp;ok warm<br> ok<br> &nbsp;ok save<br> ok mem<br> ok .s<br> ok<br> &nbsp;ok mem<br> ok<br> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok</font><font color="#0099ff"> Warm Boot! - HEIGTH word?<br></font><font color="#ffffff"> &nbsp;ok<br> &nbsp;ok<br> &nbsp;ok</font><font color="#0099ff"> 768 18</font><font color="#00ffff"> &nbsp;1024</font><font color="#ffffff"> /mod .s<br> ok</font><font color="#0099ff"> 19200</font><font color="#ffffff"> .s<br> ok</font><font color="#00ffff"> &nbsp;768 25</font><font color="#ffffff"> *<br> ok save<br> ok mem<br> ok<br> &nbsp;ok ..<br> ok</font><font color="#0099ff"> 0 768 768 468 0 300</font><font color="#00ffff"> &nbsp;640 480</font><font color="#ffffff"> *</font><font color="#00ffff"> 1024</font><font color="#ffffff"> /mod .s<br> ok</font><font color="#0099ff"> 0 768 768 468</font><font color="#00ffff"> &nbsp;800 600</font><font color="#ffffff"> *</font><font color="#00ffff"> 1024</font><font color="#ffffff"> /mod .s<br> ok</font><font color="#0099ff"> 0 768</font><font color="#00ffff"> &nbsp;1024 768</font><font color="#ffffff"> *</font><font color="#00ffff"> 1024</font><font color="#ffffff"> /mod .s<br> ok mem<br> ok<br> &nbsp;ok<br> &nbsp;ok mem<br> ok<br> &nbsp;ok mem<br> ok</font><font color="#00ffff"> &nbsp;18</font><font color="#ffffff"> l<p></font><font color="#0099ff"> Boot</font><font color="#ffffff"> enth</font><font color="#00ffff"> 1</font><font color="#ffffff"> set-order<br> enth set-current multi<br> marker</font><font color="#ff0000"> boot</font><font color="#00ffff"> 13</font><font color="#ffffff"> load<br></font><font color="#ff0000"> warm</font><font color="#00ff00"> kernel wake stop ;<br></font><font color="#ff0000"> screen</font><font color="#00ffff"> 7</font><font color="#ffffff"> block</font><font color="#00ff00"> read ;<br></font><font color="#ff0000"> 12x22</font><font color="#00ffff"> 8</font><font color="#ffffff"> block</font><font color="#00ff00"> read ;<br></font><font color="#ff0000"> 6x11</font><font color="#00ffff"> 9</font><font color="#ffffff"> block</font><font color="#00ff00"> read ;<br></font><font color="#ff0000"> disk1</font><font color="#00ffff"> 1440</font><font color="#ffffff"> blocks</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> floppy@</font><font color="#00ffff"> 1 &nbsp;18</font><font color="#ffffff"> block</font><font color="#00ff00"> read ;<br></font><font color="#ff0000"> floppy!</font><font color="#00ffff"> 0 &nbsp;18</font><font color="#ffffff"> block</font><font color="#00ff00"> read ;<br></font><font color="#ff0000"> l</font><font color="#00ff00"> block</font><font color="#ff0000"> ed</font><font color="#00ffff"> 11</font><font color="#ffffff"> block</font><font color="#00ff00"> read ;<br></font><font color="#ff0000"> when</font><font color="#00ffff"> 17</font><font color="#ffffff"> block</font><font color="#00ff00"> read ;<br></font><font color="#ff0000"> mem</font><font color="#00ffff"> 16</font><font color="#ffffff"> block</font><font color="#00ff00"> read ;<br></font><font color="#ff0000"> flux1</font><font color="#ffffff"> disk1</font><font color="#ff00ff"> 10000</font><font color="#ffffff"> +</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> save</font><font color="#ff00ff"> 20000</font><font color="#ffffff"> &nbsp;flux1</font><font color="#ff00ff"> &nbsp;8000</font><font color="#00ff00"> move</font><font color="#ffffff"> disk1</font><font color="#00ff00"> floppy! ;<br></font><font color="#ff0000"> revert</font><font color="#ffffff"> flux1</font><font color="#ff00ff"> 400</font><font color="#ffffff"> +</font><font color="#ff00ff"> &nbsp;20400 &nbsp;7f00</font><font color="#00ff00"> move ;<br></font><font color="#ff0000"> dump</font><font color="#00ffff"> 10</font><font color="#ffffff"> block</font><font color="#00ff00"> read ;<br></font><font color="#ff0000"> words</font><font color="#00ffff"> 15</font><font color="#ffffff"> block</font><font color="#00ff00"> read ;<br></font><font color="#ff0000"> tetris</font><font color="#00ffff"> 20</font><font color="#ffffff"> block</font><font color="#00ff00"> read ;<br></font><font color="#ff0000"> bye</font><font color="#00ffff"> 3</font><font color="#ffffff"> block</font><font color="#00ff00"> read ;<br></font><font color="#ff0000"> keys</font><font color="#00ff00"> noop ;<br></font><font color="#ffffff"> marker</font><font color="#ff0000"> basic<br></font><font color="#ffffff"> flux set-current disk1 floppy@</font><font color="#00ffff"> 4</font><font color="#ffffff"> load</font><font color="#00ffff"> 2</font><font color="#ffffff"> load<br></font><font color="#ff0000"> await</font><font color="#00ff00"> stop single</font><font color="#00ffff"> 0</font><font color="#ff00ff"> &nbsp;100000</font><font color="#00ff00"> ! self self ! boot end ;</font><font color="#ffffff"> await<p></font><font color="#0099ff"> Color Terminal<br></font><font color="#00ffff"> 0 1024</font><font color="#ffffff"> master cede<br></font><font color="#ff0000"> tib</font><font color="#00ffff"> 0</font><font color="#ffffff"> block</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> emit</font><font color="#ffffff"> tib</font><font color="#00ff00"> dup dup</font><font color="#00ffff"> 1</font><font color="#00ff00"> +</font><font color="#00ffff"> 1023</font><font color="#00ff00"> cmove> c! ;<br></font><font color="#ff0000"> type</font><font color="#00ff00"> push</font><font color="#ffffff"> tib</font><font color="#00ff00"> dup dup r@ +</font><font color="#00ffff"> 1024</font><font color="#00ff00"> r@ - cmove> pop cmove ;<br></font><font color="#ff0000"> ok</font><font color="#00ff00"> end ;<br></font><font color="#ff0000"> comment</font><font color="#00ff00"> type</font><font color="#00ffff"> 10</font><font color="#00ff00"> emit ;<br></font><font color="#ff0000"> .</font><font color="#00ff00"> s>d number comment ;<br></font><font color="#ff0000"> u.</font><font color="#00ffff"> 0</font><font color="#00ff00"> number comment ;<br></font><font color="#ff0000"> .s</font><font color="#00ff00"> depth</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? if for depth r@ neg + pick . next ; then drop ;<br></font><font color="#ffffff"> marker</font><font color="#ff0000"> terminal<br> spot</font><font color="#00ffff"> 1024</font><font color="#ffffff"> allot macros<br></font><font color="#ff0000"> ."</font><font color="#99aa66"> " count type</font><font color="#00ff00"> ;</font><font color="#ffffff"> :<br></font><font color="#ff0000"> caught</font><font color="#00ff00"> catch</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? drop ;<br></font><font color="#ff0000"> wrong</font><font color="#00ff00"> spad count comment ;<br></font><font color="#ff0000"> edit</font><font color="#ffffff"> tib</font><font color="#ffff00"> &nbsp;ed</font><font color="#00ff00"> caught if revert wrong ."</font><font color="#0099ff"> &nbsp;Warm Boot! -"</font><font color="#00ff00"> warm then ;<br></font><font color="#ff0000"> in</font><font color="#ffffff"> tib</font><font color="#00ffff"> 768</font><font color="#ffffff"> +</font><font color="#00ffff"> &nbsp;256</font><font color="#00ff00"> erase ."<br></font><font color="#ffffff"> &nbsp; ok"</font><font color="#ffff00"> spot</font><font color="#00ff00"> edit</font><font color="#ffffff"> tib</font><font color="#00ff00"> over</font><font color="#00ffff"> 1024</font><font color="#00ff00"> cmove ;<br></font><font color="#ff0000"> panic</font><font color="#00ff00"> ..</font><font color="#00ffff"> 0</font><font color="#00ff00"> hand ! ;<br></font><font color="#ff0000"> check</font><font color="#00ff00"> depth</font><font color="#ff00ff"> 80000000</font><font color="#00ff00"> ? drop if depth abs . ."</font><font color="#0099ff"> &nbsp;Stack Underflow -"</font><font color="#00ff00"> .. then ;<br></font><font color="#ff0000"> start</font><font color="#00ff00"> mark off empty panic ..r<br></font><font color="#ff0000"> listen</font><font color="#00ff00"> in</font><font color="#ffff00"> read</font><font color="#00ff00"> caught if wrong panic then check listen ;<br></font><font color="#ffff00"> start terminal</font><font color="#ffffff"> ignore<br></font><font color="#0099ff"> Personal<br></font><font color="#ff0000"> wipe</font><font color="#00ff00"> block</font><font color="#00ffff"> 1024</font><font color="#00ff00"> erase ;<br></font><font color="#ff0000"> copy</font><font color="#00ff00"> block push block pop</font><font color="#00ffff"> 1024</font><font color="#00ff00"> cmove ;<br></font><font color="#ffffff"> call<p></font><font color="#0099ff"> Bye<br> RTC programmable int off<br></font><font color="#ff0000"> cli</font><font color="#ff00ff"> fac3</font><font color="#ffffff"> 2,</font><font color="#ff0000"> sti</font><font color="#ff00ff"> fbc3</font><font color="#ffffff"> 2,<br> cli</font><font color="#ff00ff"> b 70</font><font color="#ffffff"> pc!</font><font color="#ff00ff"> 71</font><font color="#ffffff"> pc@</font><font color="#ff00ff"> bf</font><font color="#ffffff"> and</font><font color="#ff00ff"> b 70</font><font color="#ffffff"> pc!</font><font color="#ff00ff"> 71</font><font color="#ffffff"> pc!<br></font><font color="#ff00ff"> c 70</font><font color="#ffffff"> pc!</font><font color="#ff00ff"> 71</font><font color="#ffffff"> pc@ drop sti<br></font><font color="#0099ff"> Reset machine via keyboard controller<br></font><font color="#ff00ff"> fe 64</font><font color="#ffffff"> pc!<p></font><font color="#0099ff"> Keyboard<br></font><font color="#ffffff"> marker</font><font color="#ff0000"> keyboard<br></font><font color="#ffffff"> vars</font><font color="#ff0000"> effect keypad s1 s2 leds</font><font color="#ffffff"> :</font><font color="#00ffff"> -1</font><font color="#ffffff"> dup s1 ! s2 !<br></font><font color="#ff0000"> ekeys</font><font color="#00ff00"> var</font><font color="#00ffff"> 1096</font><font color="#ffffff"> allot<br></font><font color="#ff0000"> ckeys</font><font color="#00ff00"> var</font><font color="#ff00ff"> 0</font><font color="#ffffff"> ,<br></font><font color="#0099ff"> esc</font><font color="#ff00ff"> &nbsp; &nbsp; &nbsp; 0</font><font color="#ffffff"> ,</font><font color="#0099ff"> 1!</font><font color="#ff00ff"> 21213131</font><font color="#ffffff"> ,</font><font color="#0099ff"> 2@</font><font color="#ff00ff"> 40403232</font><font color="#ffffff"> ,</font><font color="#0099ff"> 3#</font><font color="#ff00ff"> 23233333</font><font color="#ffffff"> ,<br></font><font color="#0099ff"> 4$</font><font color="#ff00ff"> 24243434</font><font color="#ffffff"> ,</font><font color="#0099ff"> 5%</font><font color="#ff00ff"> 25253535</font><font color="#ffffff"> ,</font><font color="#0099ff"> 6^</font><font color="#ff00ff"> 5E5E3636</font><font color="#ffffff"> ,</font><font color="#0099ff"> 7&</font><font color="#ff00ff"> 26263737</font><font color="#ffffff"> ,<br></font><font color="#0099ff"> 8*</font><font color="#ff00ff"> 2A2A3838</font><font color="#ffffff"> ,</font><font color="#0099ff"> 9(</font><font color="#ff00ff"> 28283939</font><font color="#ffffff"> ,</font><font color="#0099ff"> 0)</font><font color="#ff00ff"> 29293030</font><font color="#ffffff"> ,</font><font color="#0099ff"> -_</font><font color="#ff00ff"> 5F5F2D2D</font><font color="#ffffff"> ,<br></font><font color="#0099ff"> =+</font><font color="#ff00ff"> 2B2B3D3D</font><font color="#ffffff"> ,</font><font color="#0099ff"> bkspace</font><font color="#ff00ff"> &nbsp; 0</font><font color="#ffffff"> ,</font><font color="#0099ff"> tab</font><font color="#ff00ff"> &nbsp; &nbsp; &nbsp; 0</font><font color="#ffffff"> ,</font><font color="#0099ff"> qQ</font><font color="#ff00ff"> 71515171</font><font color="#ffffff"> ,<br></font><font color="#0099ff"> wW</font><font color="#ff00ff"> 77575777</font><font color="#ffffff"> ,</font><font color="#0099ff"> eE</font><font color="#ff00ff"> 65454565</font><font color="#ffffff"> ,</font><font color="#0099ff"> rR</font><font color="#ff00ff"> 72525272</font><font color="#ffffff"> ,</font><font color="#0099ff"> tT</font><font color="#ff00ff"> 74545474</font><font color="#ffffff"> ,<br></font><font color="#0099ff"> yY</font><font color="#ff00ff"> 79595979</font><font color="#ffffff"> ,</font><font color="#0099ff"> uU</font><font color="#ff00ff"> 75555575</font><font color="#ffffff"> ,</font><font color="#0099ff"> iI</font><font color="#ff00ff"> 69494969</font><font color="#ffffff"> ,</font><font color="#0099ff"> oO</font><font color="#ff00ff"> 6F4F4F6F</font><font color="#ffffff"> ,<br></font><font color="#0099ff"> pP</font><font color="#ff00ff"> 70505070</font><font color="#ffffff"> ,</font><font color="#0099ff"> [{</font><font color="#ff00ff"> 7B7B5B5B</font><font color="#ffffff"> ,</font><font color="#0099ff"> ]}</font><font color="#ff00ff"> 7D7D5D5D</font><font color="#ffffff"> ,</font><font color="#0099ff"> enter</font><font color="#ff00ff"> &nbsp; &nbsp; 0</font><font color="#ffffff"> ,<br></font><font color="#0099ff"> ctrl</font><font color="#ff00ff"> &nbsp; &nbsp; &nbsp;0</font><font color="#ffffff"> ,</font><font color="#0099ff"> aA</font><font color="#ff00ff"> 61414161</font><font color="#ffffff"> ,</font><font color="#0099ff"> sS</font><font color="#ff00ff"> 73535373</font><font color="#ffffff"> ,</font><font color="#0099ff"> dD</font><font color="#ff00ff"> 64444464</font><font color="#ffffff"> ,<br></font><font color="#0099ff"> fF</font><font color="#ff00ff"> 66464666</font><font color="#ffffff"> ,</font><font color="#0099ff"> gG</font><font color="#ff00ff"> 67474767</font><font color="#ffffff"> ,</font><font color="#0099ff"> hH</font><font color="#ff00ff"> 68484868</font><font color="#ffffff"> ,</font><font color="#0099ff"> jJ</font><font color="#ff00ff"> 6A4A4A6A</font><font color="#ffffff"> ,<br></font><font color="#0099ff"> kK</font><font color="#ff00ff"> 6B4B4B6B</font><font color="#ffffff"> ,</font><font color="#0099ff"> lL</font><font color="#ff00ff"> 6C4C4C6C</font><font color="#ffffff"> ,</font><font color="#0099ff"> ;:</font><font color="#ff00ff"> 3A3A3B3B</font><font color="#ffffff"> ,</font><font color="#0099ff"> '"</font><font color="#ff00ff"> 22222727</font><font color="#ffffff"> ,<br></font><font color="#0099ff"> `~</font><font color="#ff00ff"> 7E7E6060</font><font color="#ffffff"> ,</font><font color="#0099ff"> lshift</font><font color="#ff00ff"> &nbsp; &nbsp;0</font><font color="#ffffff"> ,</font><font color="#0099ff"> \|</font><font color="#ff00ff"> 7C7C5C5C</font><font color="#ffffff"> ,</font><font color="#0099ff"> zZ</font><font color="#ff00ff"> 7A5A5A7A</font><font color="#ffffff"> ,<br></font><font color="#0099ff"> xX</font><font color="#ff00ff"> 78585878</font><font color="#ffffff"> ,</font><font color="#0099ff"> cC</font><font color="#ff00ff"> 63434363</font><font color="#ffffff"> ,</font><font color="#0099ff"> vV</font><font color="#ff00ff"> 76565676</font><font color="#ffffff"> ,</font><font color="#0099ff"> bB</font><font color="#ff00ff"> 62424262</font><font color="#ffffff"> ,<br></font><font color="#0099ff"> nN</font><font color="#ff00ff"> 6E4E4E6E</font><font color="#ffffff"> ,</font><font color="#0099ff"> mM</font><font color="#ff00ff"> 6D4D4D6D</font><font color="#ffffff"> ,</font><font color="#0099ff"> ,<</font><font color="#ff00ff"> 3C3C2C2C</font><font color="#ffffff"> ,</font><font color="#0099ff"> .></font><font color="#ff00ff"> 3E3E2E2E</font><font color="#ffffff"> ,<br></font><font color="#0099ff"> /?</font><font color="#ff00ff"> 3F3F2F2F</font><font color="#ffffff"> , here</font><font color="#00ffff"> 132</font><font color="#ffffff"> allot</font><font color="#00ffff"> 132</font><font color="#ffffff"> erase<br></font><font color="#0099ff"> f11</font><font color="#ff00ff"> 20202020</font><font color="#ffffff"> ,</font><font color="#0099ff"> f12</font><font color="#ff00ff"> 20202020</font><font color="#ffffff"> , here</font><font color="#00ffff"> 192</font><font color="#ffffff"> allot</font><font color="#00ffff"> 192</font><font color="#ffffff"> erase<p></font><font color="#0099ff"> Keyboard<br></font><font color="#ffffff"> macros</font><font color="#ff0000"> <>;</font><font color="#ff00ff"> 3906</font><font color="#00ff00"> 2,</font><font color="#99aa66"> drop if ; then</font><font color="#00ff00"> ;</font><font color="#ffffff"> :<br></font><font color="#ff0000"> irq1</font><font color="#ff00ff"> fff4</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> cmd</font><font color="#0099ff"> n-</font><font color="#ff00ff"> 60</font><font color="#00ff00"> pc!</font><font color="#ff0000"> wait</font><font color="#ff00ff"> 64</font><font color="#00ff00"> pc@</font><font color="#ff00ff"> 2</font><font color="#00ff00"> ? drop if pause wait ; then ;<br></font><font color="#ff0000"> sc@</font><font color="#0099ff"> -u</font><font color="#ffffff"> irq1</font><font color="#00ff00"> @</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? if pc@</font><font color="#00ffff"> 0</font><font color="#ffffff"> &nbsp;irq1</font><font color="#00ff00"> ! ; then drop pause sc@ ;<br></font><font color="#ff0000"> sc</font><font color="#0099ff"> -u</font><font color="#00ff00"> sc@</font><font color="#ff00ff"> e1</font><font color="#00ff00"> <>; drop sc@ drop sc@ drop sc ;<br></font><font color="#ff0000"> exdn</font><font color="#0099ff"> u-v</font><font color="#ff00ff"> 2a</font><font color="#00ff00"> <>; drop sc</font><font color="#ff00ff"> e0</font><font color="#00ff00"> <>; sc nip ;<br></font><font color="#ff0000"> exup</font><font color="#0099ff"> u-v</font><font color="#ff00ff"> aa</font><font color="#00ff00"> <>; drop sc</font><font color="#ff00ff"> e0</font><font color="#00ff00"> <>; sc exdn nip ;<br></font><font color="#ff0000"> scan</font><font color="#00ff00"> sc</font><font color="#ff00ff"> e0</font><font color="#00ff00"> <>; sc exdn exup nip ;<br></font><font color="#ff0000"> xkeys</font><font color="#ffffff"> keypad</font><font color="#00ff00"> @ +</font><font color="#00ffff"> 1</font><font color="#00ff00"> + dup @ +</font><font color="#00ffff"> 4</font><font color="#00ff00"> + call ;<br></font><font color="#ff0000"> asc</font><font color="#0099ff"> u-c</font><font color="#00ffff"> 4</font><font color="#00ff00"> *</font><font color="#ffffff"> effect</font><font color="#00ff00"> @ +</font><font color="#ffffff"> ckeys</font><font color="#00ff00"> + c@</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? ;<br></font><font color="#ff0000"> ascii</font><font color="#0099ff"> u-</font><font color="#00ff00"> dup asc if nip</font><font color="#00ffff"> 0</font><font color="#00ff00"> xkeys ; then<br></font><font color="#ff0000"> exe</font><font color="#0099ff"> u-</font><font color="#00ff00"> swap</font><font color="#00ffff"> 8</font><font color="#00ff00"> * +</font><font color="#ffffff"> ekeys</font><font color="#00ff00"> + @ call ;<br></font><font color="#ff0000"> process</font><font color="#0099ff"> u-</font><font color="#ff00ff"> 80</font><font color="#00ff00"> ? if</font><font color="#ff00ff"> 7f</font><font color="#00ff00"> and</font><font color="#00ffff"> 4</font><font color="#00ff00"> exe ; then ascii ;<br></font><font color="#ff0000"> done</font><font color="#00ff00"> pop drop ;<br></font><font color="#ff0000"> listen</font><font color="#00ff00"> r@</font><font color="#ffffff"> keypad</font><font color="#00ff00"> !</font><font color="#00ffff"> 1</font><font color="#00ff00"> scan process jump done listen<br></font><font color="#ffff00"> listen keys</font><font color="#ffffff"> is<br></font><font color="#ff0000"> s+</font><font color="#ffffff"> s1</font><font color="#00ff00"> @</font><font color="#ffffff"> s2</font><font color="#00ff00"> @ and if</font><font color="#00ffff"> 2</font><font color="#ffffff"> &nbsp;effect</font><font color="#00ff00"> +! then drop ;<br></font><font color="#ff0000"> s-</font><font color="#0099ff"> a-</font><font color="#00ff00"> @</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? if</font><font color="#00ffff"> -2</font><font color="#ffffff"> &nbsp;effect</font><font color="#00ff00"> +! then drop ;<br></font><font color="#ff0000"> s1+</font><font color="#00ff00"> s+</font><font color="#00ffff"> 0</font><font color="#ffffff"> &nbsp;s1</font><font color="#00ff00"> ! ;<br></font><font color="#ff0000"> s1-</font><font color="#ffffff"> s2</font><font color="#00ff00"> s-</font><font color="#00ffff"> -1</font><font color="#ffffff"> &nbsp;s1</font><font color="#00ff00"> ! ;<br></font><font color="#ff0000"> s2+</font><font color="#00ff00"> s+</font><font color="#00ffff"> 0</font><font color="#ffffff"> &nbsp;s2</font><font color="#00ff00"> ! ;<br></font><font color="#ff0000"> s2-</font><font color="#ffffff"> s1</font><font color="#00ff00"> s-</font><font color="#00ffff"> -1</font><font color="#ffffff"> &nbsp;s2</font><font color="#00ff00"> ! ;<br></font><font color="#ff0000"> adj</font><font color="#ff00ff"> 4</font><font color="#00ff00"> ? if</font><font color="#00ffff"> -1</font><font color="#00ff00"> ; then</font><font color="#00ffff"> 1</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> caps</font><font color="#ffffff"> leds</font><font color="#00ff00"> @ adj</font><font color="#ffffff"> effect</font><font color="#00ff00"> +!</font><font color="#ff00ff"> 4</font><font color="#00ff00"> xor</font><font color="#ffffff"> leds</font><font color="#00ff00"> !<br></font><font color="#ff0000"> lights</font><font color="#ff00ff"> ed</font><font color="#00ff00"> cmd</font><font color="#ffffff"> leds</font><font color="#00ff00"> @ cmd ;<br></font><font color="#0099ff"> repeat</font><font color="#ff00ff"> f3</font><font color="#ffffff"> cmd</font><font color="#ff00ff"> 5</font><font color="#ffffff"> cmd lights<p></font><font color="#0099ff"> Keyboard<br></font><font color="#ff0000"> !+</font><font color="#0099ff"> an-b</font><font color="#00ff00"> over !</font><font color="#00ffff"> 4</font><font color="#00ff00"> + ;<br></font><font color="#ff0000"> n</font><font color="#ffff00"> noop</font><font color="#00ff00"> !+ ;<br></font><font color="#ff0000"> v</font><font color="#00ff00"> n n ;<br></font><font color="#ff0000"> x</font><font color="#00ff00"> push here !+ pop</font><font color="#00ffff"> 5</font><font color="#00ff00"> * lit</font><font color="#99aa66"> xkeys ;</font><font color="#00ff00"> n ;<br></font><font color="#ff0000"> k</font><font color="#00ff00"> push !+ pop !+ ;<br></font><font color="#ffffff"> ekeys v</font><font color="#0099ff"> esc</font><font color="#00ffff"> 1</font><font color="#ffffff"> x v v v v v v v v v v v v</font><font color="#0099ff"> bks</font><font color="#00ffff"> 14</font><font color="#ffffff"> x</font><font color="#0099ff"> tab</font><font color="#00ffff"> 15</font><font color="#ffffff"> x v v v v v v v v v v v v</font><font color="#ffff00"> 0= noop</font><font color="#ffffff"> k</font><font color="#0099ff"> ctl</font><font color="#00ffff"> 22</font><font color="#ffffff"> x v v v v v v v v v v v v</font><font color="#ffff00"> s1+ s1-</font><font color="#ffffff"> k v v v v v v v v v v v</font><font color="#ffff00"> s2+ s2-</font><font color="#ffffff"> k v</font><font color="#00ffff"> 23</font><font color="#ffffff"> x</font><font color="#0099ff"> spc</font><font color="#00ffff"> 24</font><font color="#ffffff"> x</font><font color="#ffff00"> caps noop</font><font color="#ffffff"> k</font><font color="#0099ff"> f1</font><font color="#00ffff"> 2</font><font color="#ffffff"> x</font><font color="#00ffff"> 3</font><font color="#ffffff"> x</font><font color="#00ffff"> 4</font><font color="#ffffff"> x</font><font color="#00ffff"> 5</font><font color="#ffffff"> x</font><font color="#00ffff"> 6</font><font color="#ffffff"> x</font><font color="#00ffff"> 7</font><font color="#ffffff"> x</font><font color="#00ffff"> 8</font><font color="#ffffff"> x</font><font color="#00ffff"> 9</font><font color="#ffffff"> x</font><font color="#00ffff"> 10</font><font color="#ffffff"> x</font><font color="#00ffff"> 11</font><font color="#ffffff"> x</font><font color="#0099ff"> 69</font><font color="#ffffff"> v v</font><font color="#0099ff"> 71</font><font color="#00ffff"> 17</font><font color="#ffffff"> x</font><font color="#00ffff"> 25</font><font color="#ffffff"> x</font><font color="#00ffff"> 21</font><font color="#ffffff"> x v</font><font color="#00ffff"> 26</font><font color="#ffffff"> x v</font><font color="#00ffff"> 28</font><font color="#ffffff"> x v</font><font color="#00ffff"> 20</font><font color="#ffffff"> x</font><font color="#00ffff"> 27</font><font color="#ffffff"> x</font><font color="#00ffff"> 18</font><font color="#ffffff"> x</font><font color="#00ffff"> 16</font><font color="#ffffff"> x</font><font color="#00ffff"> 19</font><font color="#ffffff"> x v v v</font><font color="#00ffff"> 12</font><font color="#ffffff"> x</font><font color="#00ffff"> 13</font><font color="#ffffff"> x v v v v v v v v v v v v v v v v v v v v v v v v v v v v v v v v v v v v v v v v v v v v v v v v drop<br></font><font color="#ffff00"> keyboard</font><font color="#ffffff"> ignore end<p></font><font color="#0099ff"> Video<br></font><font color="#ffffff"> vars</font><font color="#ff0000"> xy color</font><font color="#ffffff"> :<br></font><font color="#ff0000"> rgb</font><font color="#00ff00"> push push</font><font color="#00ffff"> 8</font><font color="#ff00ff"> f81f</font><font color="#ffffff"> c@ -</font><font color="#00ff00"> shr</font><font color="#ff00ff"> f820</font><font color="#ffffff"> c@</font><font color="#00ff00"> shl pop</font><font color="#00ffff"> 8</font><font color="#ff00ff"> f821</font><font color="#ffffff"> c@ -</font><font color="#00ff00"> shr</font><font color="#ff00ff"> f822</font><font color="#ffffff"> c@</font><font color="#00ff00"> shl pop</font><font color="#00ffff"> 8</font><font color="#ff00ff"> f823</font><font color="#ffffff"> c@ -</font><font color="#00ff00"> shr</font><font color="#ff00ff"> f824</font><font color="#ffffff"> c@</font><font color="#00ff00"> shl or or ;<br></font><font color="#ff0000"> pen</font><font color="#00ff00"> dup</font><font color="#00ffff"> 16</font><font color="#00ff00"> shl or</font><font color="#ffffff"> color</font><font color="#00ff00"> ! ;<br></font><font color="#ff0000"> black</font><font color="#ff00ff"> 00 00 00</font><font color="#ffffff"> rgb</font><font color="#00ff00"> pen ;<br></font><font color="#ff0000"> white</font><font color="#ff00ff"> ff ff ff</font><font color="#ffffff"> rgb</font><font color="#00ff00"> pen ;<br></font><font color="#ff0000"> red</font><font color="#ff00ff"> ff 00 00</font><font color="#ffffff"> rgb</font><font color="#00ff00"> pen ;<br></font><font color="#ff0000"> blue</font><font color="#ff00ff"> 00 00 ff</font><font color="#ffffff"> rgb</font><font color="#00ff00"> pen ;<br></font><font color="#ff0000"> green</font><font color="#ff00ff"> 00 ff 00</font><font color="#ffffff"> rgb</font><font color="#00ff00"> pen ;<br></font><font color="#ff0000"> cyan</font><font color="#ff00ff"> 00 ff ff</font><font color="#ffffff"> rgb</font><font color="#00ff00"> pen ;<br></font><font color="#ff0000"> magenta</font><font color="#ff00ff"> ff 00 ff</font><font color="#ffffff"> rgb</font><font color="#00ff00"> pen ;<br></font><font color="#ff0000"> yellow</font><font color="#ff00ff"> ff ff 00</font><font color="#ffffff"> rgb</font><font color="#00ff00"> pen ;<br></font><font color="#ff0000"> width</font><font color="#ff00ff"> f812</font><font color="#ffffff"> w@</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> height</font><font color="#ff00ff"> f814</font><font color="#ffffff"> w@</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> frame</font><font color="#ffffff"> width height * 2*</font><font color="#00ffff"> 1024</font><font color="#ffffff"> /</font><font color="#00ffff"> 50</font><font color="#ffffff"> + blocks</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> at</font><font color="#ffffff"> height</font><font color="#00ff00"> min</font><font color="#ffffff"> width</font><font color="#00ff00"> * + 2*</font><font color="#ffffff"> frame</font><font color="#00ff00"> +</font><font color="#ffffff"> xy</font><font color="#00ff00"> ! ;<br></font><font color="#ff0000"> get</font><font color="#ffffff"> xy</font><font color="#00ff00"> @</font><font color="#ffffff"> frame</font><font color="#00ff00"> - 2/</font><font color="#ffffff"> width</font><font color="#00ff00"> /mod ;<br></font><font color="#ff0000"> +at</font><font color="#ffffff"> width</font><font color="#00ff00"> * + 2*</font><font color="#ffffff"> xy</font><font color="#00ff00"> +! ;<br></font><font color="#ff0000"> box</font><font color="#00ff00"> pause push push</font><font color="#ffffff"> xy</font><font color="#00ff00"> @ pop 2/ pop for over over</font><font color="#ffffff"> color</font><font color="#00ff00"> @ flood</font><font color="#ffffff"> width 2*</font><font color="#00ff00"> u+ next drop drop ;<br></font><font color="#ff0000"> page</font><font color="#ffffff"> frame</font><font color="#00ff00"> dup</font><font color="#ffffff"> width height * 2/ &nbsp;color</font><font color="#00ff00"> @ flood</font><font color="#ffffff"> xy</font><font color="#00ff00"> ! ;<br></font><font color="#ff0000"> switch</font><font color="#ffffff"> frame</font><font color="#ff00ff"> &nbsp;f828</font><font color="#ffffff"> @ &nbsp;width height * 2/</font><font color="#00ff00"> move ;<br></font><font color="#ffffff"> end<p></font><font color="#0099ff"> 12x22<br></font><font color="#ff0000"> cr</font><font color="#00ff00"> get</font><font color="#00ffff"> 22</font><font color="#00ff00"> + push drop</font><font color="#00ffff"> 0</font><font color="#00ff00"> pop at ;<br></font><font color="#ff0000"> cf</font><font color="#00ffff"> 24</font><font color="#ffffff"> &nbsp;xy</font><font color="#00ff00"> +! ;<br></font><font color="#ff0000"> space</font><font color="#00ff00"> get drop</font><font color="#ffffff"> width</font><font color="#00ffff"> 25</font><font color="#ffffff"> -</font><font color="#00ff00"> -</font><font color="#00ffff"> 1</font><font color="#00ff00"> min</font><font color="#00ffff"> 0</font><font color="#00ff00"> max jump cf cr<br></font><font color="#ff0000"> ascii</font><font color="#00ff00"> var</font><font color="#00ffff"> 512</font><font color="#ffffff"> allot marker</font><font color="#ff0000"> font<br></font><font color="#ffffff"> vars</font><font color="#ff0000"> i a</font><font color="#ffffff"> :</font><font color="#ff00ff"> 1d800</font><font color="#ffffff"> i ! ascii a !<br></font><font color="#ff0000"> ln</font><font color="#ffffff"> width 2*</font><font color="#00ffff"> 22</font><font color="#ffffff"> -</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> fp</font><font color="#00ff00"> over over w!</font><font color="#00ffff"> 2</font><font color="#00ff00"> + ;<br></font><font color="#ff0000"> fpl</font><font color="#00ff00"> over over w!</font><font color="#ffffff"> ln</font><font color="#00ff00"> + ;<br></font><font color="#ff0000"> rev</font><font color="#00ff00"> dup</font><font color="#ff00ff"> ff</font><font color="#00ff00"> and</font><font color="#00ffff"> 8</font><font color="#00ff00"> shl swap</font><font color="#00ffff"> 8</font><font color="#00ff00"> shr or ;<br></font><font color="#ff0000"> @+</font><font color="#ffffff"> i</font><font color="#00ff00"> @ w@ rev</font><font color="#00ffff"> 2</font><font color="#ffffff"> &nbsp;i</font><font color="#00ff00"> +! ;<br></font><font color="#ff0000"> !+</font><font color="#00ff00"> here</font><font color="#ffffff"> a</font><font color="#00ff00"> @ !</font><font color="#00ffff"> 4</font><font color="#ffffff"> &nbsp;a</font><font color="#00ff00"> +! ;<br></font><font color="#ff0000"> !></font><font color="#00ff00"> here</font><font color="#ffffff"> a</font><font color="#00ff00"> @</font><font color="#00ffff"> 60</font><font color="#00ff00"> + ! ;<br></font><font color="#ff0000"> b</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? if lit</font><font color="#99aa66"> + fp</font><font color="#00ffff"> 0</font><font color="#00ff00"> ; then</font><font color="#99aa66"> fp</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> b;</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? if lit</font><font color="#99aa66"> + fpl</font><font color="#00ffff"> 0</font><font color="#00ff00"> ; then</font><font color="#99aa66"> fpl</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> p</font><font color="#00ff00"> 2*</font><font color="#ff00ff"> 10000</font><font color="#00ff00"> ? if push b pop ; then</font><font color="#00ffff"> 2</font><font color="#00ff00"> u+ ;<br></font><font color="#ff0000"> p;</font><font color="#00ff00"> 2*</font><font color="#ff00ff"> 10000</font><font color="#00ff00"> ? if push b; pop ; then</font><font color="#ffffff"> ln</font><font color="#00ff00"> u+ ;<br></font><font color="#ff0000"> l</font><font color="#00ff00"> @+ p p p p p p p p p p p p; drop ;<br></font><font color="#ff0000"> c</font><font color="#00ffff"> 0 &nbsp;22</font><font color="#00ff00"> for l next lit</font><font color="#99aa66"> + space ;</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> exp</font><font color="#00ff00"> for !+ c next ;<br></font><font color="#ff0000"> fg</font><font color="#ffffff"> color</font><font color="#00ff00"> dup @ lit lit</font><font color="#99aa66"> !</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> t</font><font color="#00ff00"> fg</font><font color="#99aa66"> space ;</font><font color="#00ff00"> !> fg</font><font color="#99aa66"> cr ;</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> w</font><font color="#00ff00"> !+ t ;</font><font color="#ff0000"> n</font><font color="#00ff00"> !+ lit</font><font color="#99aa66"> base !</font><font color="#00ff00"> t ;<br></font><font color="#ff00ff"> 00 99 ff</font><font color="#ffffff"> rgb dup pen w red w green w white w cyan</font><font color="#00ffff"> 10</font><font color="#ffffff"> n magenta</font><font color="#00ffff"> 16</font><font color="#ffffff"> n yellow w</font><font color="#ff00ff"> 99 aa 66</font><font color="#ffffff"> rgb pen w pen w w w w w w w w</font><font color="#00ffff"> 64</font><font color="#ffffff"> a +!</font><font color="#00ffff"> 96</font><font color="#ffffff"> exp</font><font color="#ffff00"> font</font><font color="#ffffff"> ignore<br></font><font color="#ff0000"> emit</font><font color="#0099ff"> c-</font><font color="#00ff00"> pause</font><font color="#00ffff"> 127</font><font color="#00ff00"> min</font><font color="#00ffff"> 4</font><font color="#00ff00"> *</font><font color="#ffffff"> ascii</font><font color="#00ff00"> + @ push</font><font color="#ffffff"> color</font><font color="#00ff00"> @</font><font color="#ffffff"> xy</font><font color="#00ff00"> @ pop call drop drop ;<br></font><font color="#ff0000"> type</font><font color="#0099ff"> au-</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? if for dup c@ emit</font><font color="#00ffff"> 1</font><font color="#00ff00"> + next drop ; then drop drop ;<br></font><font color="#ff0000"> .</font><font color="#00ff00"> s>d number type ;</font><font color="#ff0000"> u.</font><font color="#00ffff"> 0</font><font color="#00ff00"> number type ;<br></font><font color="#ffffff"> end<p></font><font color="#0099ff"> 6x11<br></font><font color="#ff0000"> cr</font><font color="#00ff00"> get</font><font color="#00ffff"> 11</font><font color="#00ff00"> + push drop</font><font color="#00ffff"> 0</font><font color="#00ff00"> pop at ;<br></font><font color="#ff0000"> cf</font><font color="#00ffff"> 12</font><font color="#ffffff"> &nbsp;xy</font><font color="#00ff00"> +! ;<br></font><font color="#ff0000"> space</font><font color="#00ff00"> get drop</font><font color="#ffffff"> width</font><font color="#00ffff"> 13</font><font color="#ffffff"> -</font><font color="#00ff00"> -</font><font color="#00ffff"> 1</font><font color="#00ff00"> min</font><font color="#00ffff"> 0</font><font color="#00ff00"> max jump cf cr<br></font><font color="#ff0000"> ascii</font><font color="#00ff00"> var</font><font color="#00ffff"> 512</font><font color="#ffffff"> allot marker</font><font color="#ff0000"> font<br></font><font color="#ffffff"> vars</font><font color="#ff0000"> i a</font><font color="#ffffff"> :</font><font color="#ff00ff"> 1d800</font><font color="#00ffff"> 4224</font><font color="#ffffff"> + i ! ascii a !<br></font><font color="#ff0000"> ln</font><font color="#ffffff"> width 2*</font><font color="#00ffff"> 10</font><font color="#ffffff"> -</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> fp</font><font color="#00ff00"> over over w!</font><font color="#00ffff"> 2</font><font color="#00ff00"> + ;<br></font><font color="#ff0000"> fpl</font><font color="#00ff00"> over over w!</font><font color="#ffffff"> ln</font><font color="#00ff00"> + ;<br></font><font color="#ff0000"> @+</font><font color="#ffffff"> i</font><font color="#00ff00"> @ c@</font><font color="#00ffff"> 1</font><font color="#ffffff"> &nbsp;i</font><font color="#00ff00"> +! ;<br></font><font color="#ff0000"> !+</font><font color="#00ff00"> here</font><font color="#ffffff"> a</font><font color="#00ff00"> @ !</font><font color="#00ffff"> 4</font><font color="#ffffff"> &nbsp;a</font><font color="#00ff00"> +! ;<br></font><font color="#ff0000"> !></font><font color="#00ff00"> here</font><font color="#ffffff"> a</font><font color="#00ff00"> @</font><font color="#00ffff"> 60</font><font color="#00ff00"> + ! ;<br></font><font color="#ff0000"> b</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? if lit</font><font color="#99aa66"> + fp</font><font color="#00ffff"> 0</font><font color="#00ff00"> ; then</font><font color="#99aa66"> fp</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> b;</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? if lit</font><font color="#99aa66"> + fpl</font><font color="#00ffff"> 0</font><font color="#00ff00"> ; then</font><font color="#99aa66"> fpl</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> p</font><font color="#00ff00"> 2*</font><font color="#ff00ff"> 100</font><font color="#00ff00"> ? if push b pop ; then</font><font color="#00ffff"> 2</font><font color="#00ff00"> u+ ;<br></font><font color="#ff0000"> p;</font><font color="#00ff00"> 2*</font><font color="#ff00ff"> 100</font><font color="#00ff00"> ? if push b; pop ; then</font><font color="#ffffff"> ln</font><font color="#00ff00"> u+ ;<br></font><font color="#ff0000"> l</font><font color="#00ff00"> @+ p p p p p p; drop ;<br></font><font color="#ff0000"> c</font><font color="#00ffff"> 0 &nbsp;11</font><font color="#00ff00"> for l next lit</font><font color="#99aa66"> + space ;</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> exp</font><font color="#00ff00"> for !+ c next ;<br></font><font color="#ff0000"> fg</font><font color="#ffffff"> color</font><font color="#00ff00"> dup @ lit lit</font><font color="#99aa66"> !</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> t</font><font color="#00ff00"> fg</font><font color="#99aa66"> space ;</font><font color="#00ff00"> !> fg</font><font color="#99aa66"> cr ;</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> w</font><font color="#00ff00"> !+ t ;</font><font color="#ff0000"> n</font><font color="#00ff00"> !+ lit</font><font color="#99aa66"> base !</font><font color="#00ff00"> t ;<br></font><font color="#ff00ff"> 00 99 ff</font><font color="#ffffff"> rgb dup pen w red w green w white w cyan</font><font color="#00ffff"> 10</font><font color="#ffffff"> n magenta</font><font color="#00ffff"> 16</font><font color="#ffffff"> n yellow w</font><font color="#ff00ff"> 99 aa 66</font><font color="#ffffff"> rgb pen w pen w w w w w w w w</font><font color="#00ffff"> 64</font><font color="#ffffff"> a +!</font><font color="#00ffff"> 96</font><font color="#ffffff"> exp</font><font color="#ffff00"> font</font><font color="#ffffff"> ignore<br></font><font color="#ff0000"> emit</font><font color="#0099ff"> c-</font><font color="#00ff00"> pause</font><font color="#00ffff"> 127</font><font color="#00ff00"> min</font><font color="#00ffff"> 4</font><font color="#00ff00"> *</font><font color="#ffffff"> ascii</font><font color="#00ff00"> + @ push</font><font color="#ffffff"> color</font><font color="#00ff00"> @</font><font color="#ffffff"> xy</font><font color="#00ff00"> @ pop call drop drop ;<br></font><font color="#ff0000"> type</font><font color="#0099ff"> au-</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? if for dup c@ emit</font><font color="#00ffff"> 1</font><font color="#00ff00"> + next drop ; then drop drop ;<br></font><font color="#ff0000"> .</font><font color="#00ff00"> s>d number type ;</font><font color="#ff0000"> u.</font><font color="#00ffff"> 0</font><font color="#00ff00"> number type ;<br></font><font color="#ffffff"> end<p></font><font color="#0099ff"> Dump a-<br></font><font color="#ffff00"> basic</font><font color="#ffffff"> branch</font><font color="#ff0000"> dump<br> mem</font><font color="#ffffff"> , screen 12x22<br></font><font color="#ff0000"> line</font><font color="#ffffff"> width</font><font color="#00ffff"> 1022</font><font color="#ffffff"> -</font><font color="#00ffff"> 2</font><font color="#ffffff"> min</font><font color="#00ffff"> 1</font><font color="#ffffff"> max</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> incr</font><font color="#ffffff"> line</font><font color="#00ffff"> 3</font><font color="#ffffff"> shl</font><font color="#00ff00"> ;</font><font color="#ff0000"> lines</font><font color="#00ffff"> 16</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> digits</font><font color="#00ff00"> over -</font><font color="#00ffff"> 0</font><font color="#00ff00"> max</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? if for</font><font color="#00ffff"> 48</font><font color="#00ff00"> emit next ; then drop ;<br></font><font color="#ff0000"> n.</font><font color="#00ff00"> push</font><font color="#ff00ff"> 5</font><font color="#00ff00"> emit s>d number pop digits type ;<br></font><font color="#ff0000"> lo</font><font color="#00ff00"> dup</font><font color="#ff00ff"> ff</font><font color="#00ff00"> and ;<br></font><font color="#ff0000"> b</font><font color="#00ff00"> lo</font><font color="#00ffff"> 2</font><font color="#00ff00"> n.</font><font color="#00ffff"> 8</font><font color="#00ff00"> shr ;<br></font><font color="#ff0000"> c</font><font color="#00ff00"> lo</font><font color="#ff00ff"> 20</font><font color="#00ff00"> max emit</font><font color="#00ffff"> 8</font><font color="#00ff00"> shr ;<br></font><font color="#ff0000"> @+</font><font color="#00ff00"> dup @</font><font color="#00ffff"> 4</font><font color="#00ff00"> u+ ;<br></font><font color="#ff0000"> dword</font><font color="#00ff00"> @+ b b b b drop ;<br></font><font color="#ff0000"> equiv</font><font color="#00ff00"> @+ c c c c drop ;<br></font><font color="#ff0000"> addr</font><font color="#00ff00"> dup</font><font color="#00ffff"> 8</font><font color="#00ff00"> n. space ;<br></font><font color="#ff0000"> orig</font><font color="#00ff00"> "</font><font color="#ffff00"> &nbsp;Origin"</font><font color="#00ff00"> count type</font><font color="#ffff00"> mem</font><font color="#ffffff"> @</font><font color="#00ff00"> addr drop cr cr</font><font color="#ffff00"> mem</font><font color="#00ff00"> @ ;<br></font><font color="#ff0000"> nums</font><font color="#ffffff"> line</font><font color="#00ff00"> for dword dword space next ;<br></font><font color="#ff0000"> text</font><font color="#00ffff"> 10</font><font color="#00ff00"> emit</font><font color="#ffffff"> line</font><font color="#00ff00"> for equiv equiv space next ;<br></font><font color="#ff0000"> draw</font><font color="#00ff00"> orig</font><font color="#ffffff"> lines</font><font color="#00ff00"> for addr nums</font><font color="#ffffff"> incr</font><font color="#00ff00"> - text cr next drop ;<br></font><font color="#ff0000"> out</font><font color="#00ff00"> black page draw switch</font><font color="#00ffff"> 20</font><font color="#00ff00"> ms out ;<br></font><font color="#ff0000"> point</font><font color="#ffff00"> mem</font><font color="#00ff00"> @ +</font><font color="#00ffff"> 0</font><font color="#00ff00"> max</font><font color="#ffff00"> mem</font><font color="#00ff00"> ! ;<br></font><font color="#ff0000"> up</font><font color="#ffffff"> incr neg</font><font color="#00ff00"> point ;</font><font color="#ff0000"> dn</font><font color="#ffffff"> incr</font><font color="#00ff00"> point ;<br></font><font color="#ff0000"> pgup</font><font color="#ffffff"> incr lines * dup</font><font color="#00ff00"> point ;</font><font color="#ff0000"> pgdn</font><font color="#ffffff"> neg</font><font color="#00ff00"> point ;<br></font><font color="#ff0000"> l</font><font color="#00ff00"> drop</font><font color="#ff0000"> n</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> in</font><font color="#00ff00"> keys l n n n n n n n n n n n n n n n n n pgup n n pgdn n n n up n dn n<br></font><font color="#ffff00"> out</font><font color="#ffffff"> child in<br> dump end<p></font><font color="#0099ff"> Color Editor<br></font><font color="#ffff00"> basic</font><font color="#ffffff"> branch</font><font color="#ff0000"> editor<br></font><font color="#ffffff"> screen 12x22 macros<br></font><font color="#ff0000"> ."</font><font color="#99aa66"> " count type ;</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> ex</font><font color="#99aa66"> pop drop</font><font color="#00ff00"> ;</font><font color="#ffffff"> :<br></font><font color="#ff0000"> pg</font><font color="#00ffff"> 1024</font><font color="#00ff00"> ;</font><font color="#ff0000"> sb</font><font color="#00ffff"> 64</font><font color="#ffffff"> pg * ,<br></font><font color="#ff0000"> s</font><font color="#ffffff"> dup ,</font><font color="#ff0000"> p</font><font color="#ffffff"> dup</font><font color="#00ffff"> 1</font><font color="#ffffff"> + ,</font><font color="#ff0000"> l</font><font color="#ffffff"> pg + ,<br></font><font color="#ff0000"> last</font><font color="#ffff00"> l</font><font color="#00ff00"> @</font><font color="#00ffff"> 1</font><font color="#00ff00"> - ;<br></font><font color="#ff0000"> true</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? drop ;<br></font><font color="#ff0000"> bounds</font><font color="#ffff00"> s</font><font color="#00ff00"> @ max last min ;<br></font><font color="#ff0000"> in</font><font color="#ffff00"> p</font><font color="#00ff00"> @ ;<br></font><font color="#ff0000"> +to</font><font color="#00ff00"> in +<br></font><font color="#ff0000"> to</font><font color="#00ff00"> bounds</font><font color="#ffff00"> p</font><font color="#00ff00"> ! ;<br></font><font color="#ff0000"> +@</font><font color="#00ff00"> + dup c@ ;<br></font><font color="#ff0000"> @+</font><font color="#00ff00"> over c@ push + pop ;<br></font><font color="#ff0000"> check</font><font color="#00ffff"> -1</font><font color="#00ff00"> +@ true if ex</font><font color="#00ffff"> 1</font><font color="#00ff00"> + then ;<br></font><font color="#ff0000"> scan</font><font color="#ffff00"> l</font><font color="#00ff00"> @ check</font><font color="#ffffff"> pg</font><font color="#00ff00"> times ;<br></font><font color="#ff0000"> rear</font><font color="#ffffff"> color</font><font color="#00ff00"> @ swap</font><font color="#00ffff"> 12 &nbsp;22</font><font color="#00ff00"> box black emit</font><font color="#ffffff"> color</font><font color="#00ff00"> ! ;<br></font><font color="#ff0000"> fore</font><font color="#ffffff"> xy</font><font color="#00ff00"> @ push emit</font><font color="#ffffff"> xy</font><font color="#00ff00"> @ pop</font><font color="#ffffff"> xy</font><font color="#00ff00"> !</font><font color="#ff00ff"> 20</font><font color="#00ff00"> rear</font><font color="#ffffff"> xy</font><font color="#00ff00"> ! ;<br></font><font color="#ff0000"> cur</font><font color="#00ffff"> 1</font><font color="#00ff00"> @+</font><font color="#ff00ff"> e0</font><font color="#00ff00"> ? if rear ; then fore ;<br></font><font color="#ff0000"> show</font><font color="#00ff00"> push r@ over over - type cur</font><font color="#ffffff"> pg</font><font color="#00ff00"> over pop - - type ;<br></font><font color="#ff0000"> add</font><font color="#00ff00"> last c@ true if drop ; then in dup dup scan over -</font><font color="#00ffff"> 1</font><font color="#00ff00"> u+ cmove> c!</font><font color="#00ffff"> 1</font><font color="#00ff00"> +to ;<br></font><font color="#ff0000"> sub</font><font color="#00ff00"> in</font><font color="#00ffff"> 1</font><font color="#00ff00"> + dup</font><font color="#ffff00"> l</font><font color="#00ff00"> @ over -</font><font color="#00ffff"> -1</font><font color="#00ff00"> u+ cmove</font><font color="#00ffff"> 0</font><font color="#00ff00"> last c! ;<br></font><font color="#ff0000"> rev</font><font color="#00ffff"> -1</font><font color="#00ff00"> +@<br></font><font color="#ff0000"> br</font><font color="#ff00ff"> e0</font><font color="#00ff00"> ? if drop ; then</font><font color="#ff00ff"> 10</font><font color="#00ff00"> ? if ex then drop ;<br></font><font color="#ff0000"> sol</font><font color="#ffff00"> l</font><font color="#00ff00"> @ over - index rev</font><font color="#ffffff"> pg</font><font color="#00ff00"> times ;<br></font><font color="#ff0000"> adv</font><font color="#00ffff"> 1</font><font color="#00ff00"> +@</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? if br ; then drop ex ;<br></font><font color="#ff0000"> eol</font><font color="#00ffff"> 1</font><font color="#00ff00"> - bounds dup</font><font color="#ffff00"> s</font><font color="#00ff00"> @ - index adv</font><font color="#ffffff"> pg</font><font color="#00ff00"> times ;<br></font><font color="#ff0000"> t0</font><font color="#00ff00"> ." Vacant"</font><font color="#ff0000"> t1</font><font color="#00ff00"> ." Define</font><font color="#0099ff"> F1"</font><font color="#ff0000"> t2</font><font color="#00ff00"> ." Compile</font><font color="#0099ff"> F2"</font><font color="#ff0000"> t3</font><font color="#00ff00"> ." Execute</font><font color="#0099ff"> F3"<br></font><font color="#ff0000"> t4</font><font color="#00ff00"> ." Dec</font><font color="#0099ff"> F4"</font><font color="#ff0000"> t5</font><font color="#00ff00"> ." Hex</font><font color="#0099ff"> F5"</font><font color="#ff0000"> t6</font><font color="#00ff00"> ." Address</font><font color="#0099ff"> F6"</font><font color="#ff0000"> t7</font><font color="#00ff00"> ." Postpone</font><font color="#0099ff"> F7"<br></font><font color="#ff0000"> tx</font><font color="#00ff00"> ." Comment</font><font color="#0099ff"> F10"<p><br></font><font color="#ff0000"> cl</font><font color="#00ffff"> 0</font><font color="#ffffff"> ,</font><font color="#ff0000"> mode</font><font color="#00ffff"> 3</font><font color="#ffffff"> ,<br></font><font color="#ff0000"> t</font><font color="#00ff00"> dup</font><font color="#ffff00"> mode</font><font color="#00ff00"> !</font><font color="#ffff00"> cl</font><font color="#00ff00"> @ or add</font><font color="#00ffff"> 0</font><font color="#ffff00"> &nbsp;cl</font><font color="#00ff00"> ! ;<br></font><font color="#ff0000"> f1</font><font color="#00ffff"> 1</font><font color="#00ff00"> t ;</font><font color="#ff0000"> f2</font><font color="#00ffff"> 2</font><font color="#00ff00"> t ;</font><font color="#ff0000"> f3</font><font color="#00ffff"> 3</font><font color="#00ff00"> t ;</font><font color="#ff0000"> f4</font><font color="#00ffff"> 4</font><font color="#00ff00"> t ;</font><font color="#ff0000"> f5</font><font color="#00ffff"> 5</font><font color="#00ff00"> t ;<br></font><font color="#ff0000"> f6</font><font color="#00ffff"> 6</font><font color="#00ff00"> t ;</font><font color="#ff0000"> f7</font><font color="#00ffff"> 7</font><font color="#00ff00"> t ;</font><font color="#ff0000"> f8</font><font color="#00ffff"> 8</font><font color="#00ff00"> t ;</font><font color="#ff0000"> f9</font><font color="#00ffff"> 9</font><font color="#00ff00"> t ;</font><font color="#ff0000"> f10</font><font color="#00ffff"> 10</font><font color="#00ff00"> t ;<br></font><font color="#ff0000"> f12</font><font color="#ff00ff"> 20</font><font color="#00ff00"> add ;<br></font><font color="#ff0000"> sbar</font><font color="#ffff00"> mode</font><font color="#00ff00"> @ add ;<br></font><font color="#ff0000"> left</font><font color="#00ffff"> -1</font><font color="#00ff00"> +to ;<br></font><font color="#ff0000"> right</font><font color="#00ff00"> in</font><font color="#00ffff"> 1</font><font color="#00ff00"> + scan min to ;<br></font><font color="#ff0000"> up</font><font color="#00ff00"> in dup sol push r@ - pop dup sol push r@ - min pop + to ;<br></font><font color="#ff0000"> dn</font><font color="#00ff00"> in dup sol - in eol</font><font color="#00ffff"> 1</font><font color="#00ff00"> + push r@ r@ eol swap - min pop +</font><font color="#00ffff"> 1</font><font color="#00ff00"> - in</font><font color="#00ffff"> 1</font><font color="#00ff00"> + max scan min to ;<br></font><font color="#ff0000"> home</font><font color="#00ff00"> in sol</font><font color="#00ffff"> 1</font><font color="#00ff00"> + to ;<br></font><font color="#ff0000"> lnend</font><font color="#00ff00"> in eol to ;<br></font><font color="#ff0000"> bkspc</font><font color="#00ff00"> left sub ;<br></font><font color="#ff0000"> ctrl</font><font color="#ff00ff"> 10</font><font color="#ffff00"> &nbsp;cl</font><font color="#00ff00"> ! ;<br></font><font color="#ff0000"> alt</font><font color="#ffff00"> sb</font><font color="#00ff00"> @ dup neg</font><font color="#ffff00"> sb</font><font color="#00ff00"> !<br></font><font color="#ff0000"> scroll</font><font color="#00ff00"> dup dup</font><font color="#ffff00"> s</font><font color="#00ff00"> +!</font><font color="#ffff00"> p</font><font color="#00ff00"> +!</font><font color="#ffff00"> l</font><font color="#00ff00"> +! scan</font><font color="#ffff00"> p</font><font color="#00ff00"> @ min</font><font color="#ffff00"> p</font><font color="#00ff00"> ! ;</font><font color="#00ffff"> 0</font><font color="#ffffff"> scroll<br></font><font color="#ff0000"> pgup</font><font color="#ffffff"> pg</font><font color="#00ff00"> scroll ;<br></font><font color="#ff0000"> pgdn</font><font color="#ffffff"> pg neg</font><font color="#00ff00"> scroll ;<br></font><font color="#ff0000"> d.</font><font color="#00ffff"> 4</font><font color="#00ff00"> emit . ;<br></font><font color="#ff0000"> info</font><font color="#ffffff"> width</font><font color="#00ffff"> 264</font><font color="#ffffff"> -</font><font color="#00ffff"> &nbsp;0</font><font color="#00ff00"> at</font><font color="#ffff00"> s</font><font color="#00ff00"> @</font><font color="#00ffff"> 0</font><font color="#ffffff"> block</font><font color="#00ff00"> -</font><font color="#ffffff"> pg</font><font color="#00ff00"> / d.</font><font color="#ffff00"> l</font><font color="#00ff00"> @ scan - d.</font><font color="#ffff00"> p</font><font color="#00ff00"> @<br></font><font color="#ff0000"> .t</font><font color="#00ffff"> -1</font><font color="#00ff00"> @+</font><font color="#ff00ff"> e0</font><font color="#00ff00"> ? if drop .t ; then nip</font><font color="#ff00ff"> f</font><font color="#00ff00"> and dup emit<br> jump t0 t1 t2 t3 t4 t5 t6 t7 tx tx tx tx tx tx tx tx<br></font><font color="#ff0000"> spot</font><font color="#ffffff"> pg allot<br></font><font color="#ff0000"> copy</font><font color="#ffff00"> s</font><font color="#00ff00"> @</font><font color="#ffff00"> spot</font><font color="#ffffff"> &nbsp;pg</font><font color="#00ffff"> 4</font><font color="#ffffff"> /</font><font color="#00ff00"> move in</font><font color="#ffff00"> s</font><font color="#00ff00"> @ -</font><font color="#ffff00"> spot</font><font color="#00ff00"> +</font><font color="#ffff00"> spot</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> out</font><font color="#00ff00"> black page copy show info switch</font><font color="#00ffff"> 20</font><font color="#00ff00"> ms out ;<br></font><font color="#ff0000"> n</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> in</font><font color="#00ff00"> keys add n f1 f2 f3 f4 f5 f6 f7 f8 f9 f10 f12 f12 bkspc n n home pgup sub lnend pgdn ctrl alt sbar up left dn right<br></font><font color="#ff0000"> edit</font><font color="#00ff00"> in editor end ;<br></font><font color="#ffff00"> out</font><font color="#ffffff"> child edit<p></font><font color="#0099ff"> Macros</font><font color="#ffffff"> get-order<br> hidden enth</font><font color="#00ffff"> 2</font><font color="#ffffff"> set-order macros<br></font><font color="#ff0000"> drop</font><font color="#00ff00"> drop, ;</font><font color="#ff0000"> nip</font><font color="#00ff00"> nip, ;<br></font><font color="#ff0000"> over</font><font color="#00ff00"> dup,</font><font color="#ff00ff"> 8b4604</font><font color="#00ff00"> 3, ;<br></font><font color="#ff0000"> swap</font><font color="#ff00ff"> 89c28b06</font><font color="#00ff00"> 4,</font><font color="#ff00ff"> 8916</font><font color="#00ff00"> 2, ;<br></font><font color="#ff0000"> +</font><font color="#00ff00"> ?lit if</font><font color="#ff00ff"> 5</font><font color="#00ff00"> 1, , ; then</font><font color="#ff00ff"> 306</font><font color="#00ff00"> 2,</font><font color="#99aa66"> nip</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> u+</font><font color="#00ff00"> ?lit if</font><font color="#ff00ff"> 8106</font><font color="#00ff00"> 2, , ; then</font><font color="#ff00ff"> 14604</font><font color="#00ff00"> 3,</font><font color="#99aa66"> drop</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> -</font><font color="#00ff00"> ?lit if</font><font color="#ff00ff"> 2d</font><font color="#00ff00"> 1, , ; then</font><font color="#ff00ff"> 2906</font><font color="#00ff00"> 2,</font><font color="#99aa66"> drop</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> and</font><font color="#00ff00"> ?lit if</font><font color="#ff00ff"> 25</font><font color="#00ff00"> 1, , ; then</font><font color="#ff00ff"> 2306</font><font color="#00ff00"> 2,</font><font color="#99aa66"> nip</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> or</font><font color="#00ff00"> ?lit if</font><font color="#ff00ff"> d</font><font color="#00ff00"> 1, , ; then</font><font color="#ff00ff"> b06</font><font color="#00ff00"> 2,</font><font color="#99aa66"> nip</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> xor</font><font color="#00ff00"> ?lit if</font><font color="#ff00ff"> 35</font><font color="#00ff00"> 1, , ; then</font><font color="#ff00ff"> 3306</font><font color="#00ff00"> 2,</font><font color="#99aa66"> nip</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> neg</font><font color="#ff00ff"> f7d8</font><font color="#00ff00"> 2, ;</font><font color="#ff0000"> nop</font><font color="#ff00ff"> 90</font><font color="#00ff00"> 1, ;</font><font color="#ff0000"> 2/</font><font color="#ff00ff"> d1f8</font><font color="#00ff00"> 2, ;</font><font color="#ff0000"> 2*</font><font color="#ff00ff"> d1e0</font><font color="#00ff00"> 2, ;<br></font><font color="#ff0000"> shr</font><font color="#00ff00"> ?lit if</font><font color="#ff00ff"> c1e8</font><font color="#00ff00"> 2, c, ; then</font><font color="#ff00ff"> 89c1d32e</font><font color="#00ff00"> 4,</font><font color="#99aa66"> drop</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> shl</font><font color="#00ff00"> ?lit if</font><font color="#ff00ff"> c1e0</font><font color="#00ff00"> 2, c, ; then</font><font color="#ff00ff"> 89c1d326</font><font color="#00ff00"> 4,</font><font color="#99aa66"> drop</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> push</font><font color="#ff00ff"> 50</font><font color="#00ff00"> 1,</font><font color="#99aa66"> drop</font><font color="#00ff00"> ;</font><font color="#ff0000"> pop</font><font color="#00ff00"> dup,</font><font color="#ff00ff"> 58</font><font color="#00ff00"> 1, ;</font><font color="#ff0000"> r@</font><font color="#00ff00"> dup,</font><font color="#ff00ff"> 8b0424</font><font color="#00ff00"> 3, ;<br></font><font color="#ff0000"> r+</font><font color="#00ff00"> ?lit if</font><font color="#ff00ff"> 830424</font><font color="#00ff00"> 3, , ; then</font><font color="#ff00ff"> 10424</font><font color="#00ff00"> 3,</font><font color="#99aa66"> drop</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> @</font><font color="#00ff00"> ?lit if dup,</font><font color="#ff00ff"> 8b05</font><font color="#00ff00"> 2, , ; then</font><font color="#ff00ff"> 8b00</font><font color="#00ff00"> 2, ;<br></font><font color="#ff0000"> c@</font><font color="#00ff00"> ?lit if dup,</font><font color="#ff00ff"> 31c08a05</font><font color="#00ff00"> 4, , ; then</font><font color="#ff00ff"> 9231c08a</font><font color="#00ff00"> 4,</font><font color="#ff00ff"> 2</font><font color="#00ff00"> 1, ;<br></font><font color="#ff0000"> !</font><font color="#00ff00"> ?lit if ?lit if</font><font color="#ff00ff"> c705</font><font color="#00ff00"> 2, swap , , ; then</font><font color="#ff00ff"> 8905</font><font color="#00ff00"> 2, ,</font><font color="#99aa66"> drop</font><font color="#00ff00"> ; then</font><font color="#ff00ff"> 8b168910</font><font color="#00ff00"> 4,</font><font color="#99aa66"> drop drop</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> c!</font><font color="#00ff00"> ?lit if ?lit if</font><font color="#ff00ff"> c605</font><font color="#00ff00"> 2, swap , c, ; then</font><font color="#ff00ff"> 8805</font><font color="#00ff00"> 2, ,</font><font color="#99aa66"> drop</font><font color="#00ff00"> ; then</font><font color="#ff00ff"> 8b168810</font><font color="#00ff00"> 4,</font><font color="#99aa66"> drop drop</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> +!</font><font color="#00ff00"> ?lit if ?lit if</font><font color="#ff00ff"> 8105</font><font color="#00ff00"> 2, swap , , ; then</font><font color="#ff00ff"> 105</font><font color="#00ff00"> 2, ,</font><font color="#99aa66"> drop</font><font color="#00ff00"> ; then</font><font color="#ff00ff"> 8b160110</font><font color="#00ff00"> 4,</font><font color="#99aa66"> drop drop</font><font color="#00ff00"> ;<p></font><font color="#0099ff"> Macros<br></font><font color="#ff0000"> ?</font><font color="#00ff00"> ?lit if</font><font color="#ff00ff"> a9</font><font color="#00ff00"> 1, , ; then</font><font color="#ff00ff"> 8506</font><font color="#00ff00"> 2,</font><font color="#99aa66"> drop</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> *</font><font color="#00ff00"> ?lit if</font><font color="#ff00ff"> b9</font><font color="#00ff00"> 1, ,</font><font color="#ff00ff"> f7e1</font><font color="#00ff00"> 2, ; then</font><font color="#ff00ff"> 91adf7e1</font><font color="#00ff00"> 4, ;<br></font><font color="#ff0000"> /</font><font color="#00ff00"> ?lit if</font><font color="#ff00ff"> b9</font><font color="#00ff00"> 1, ,</font><font color="#ff00ff"> 99f7f9</font><font color="#00ff00"> 3, ; then</font><font color="#ff00ff"> 89c1ad99</font><font color="#00ff00"> 4,</font><font color="#ff00ff"> f7f9</font><font color="#00ff00"> 2, ;<br></font><font color="#ff0000"> mod</font><font color="#00ff00"> ?lit if</font><font color="#ff00ff"> b9</font><font color="#00ff00"> 1, ,</font><font color="#ff00ff"> 99f7f9</font><font color="#00ff00"> 3,</font><font color="#ff00ff"> 89d0</font><font color="#00ff00"> 2, ; then</font><font color="#ff00ff"> 89c1ad99</font><font color="#00ff00"> 4,</font><font color="#ff00ff"> f7f989d0</font><font color="#00ff00"> 4, ;<br></font><font color="#ff0000"> /mod</font><font color="#00ff00"> ?lit if</font><font color="#ff00ff"> b9</font><font color="#00ff00"> 1, ,</font><font color="#ff00ff"> 99f7f983</font><font color="#00ff00"> 4,</font><font color="#ff00ff"> ee048916</font><font color="#00ff00"> 4, ; then</font><font color="#ff00ff"> 918b0699</font><font color="#00ff00"> 4,</font><font color="#ff00ff"> f7f98916</font><font color="#00ff00"> 4, ;<br></font><font color="#ff0000"> */</font><font color="#00ff00"> ?lit if ?lit if</font><font color="#ff00ff"> bb</font><font color="#00ff00"> 1, ,</font><font color="#ff00ff"> b9</font><font color="#00ff00"> 1, ,</font><font color="#ff00ff"> f7ebf7f9</font><font color="#00ff00"> 4, ; then</font><font color="#ff00ff"> b9</font><font color="#00ff00"> 1, ,</font><font color="#ff00ff"> 93ad</font><font color="#00ff00"> 2,</font><font color="#ff00ff"> f7ebf7f9</font><font color="#00ff00"> 4, ; then</font><font color="#ff00ff"> 91ad93ad</font><font color="#00ff00"> 4,</font><font color="#ff00ff"> f7ebf7e9</font><font color="#00ff00"> 4, ;<br></font><font color="#ff0000"> max</font><font color="#00ff00"> ?lit if</font><font color="#ff00ff"> ba</font><font color="#00ff00"> 1, ,</font><font color="#ff00ff"> 39c27e02</font><font color="#00ff00"> 4,</font><font color="#ff00ff"> 89d0</font><font color="#00ff00"> 2, ; then</font><font color="#ffff00"> max</font><font color="#00ff00"> compile, ;<br></font><font color="#ff0000"> min</font><font color="#00ff00"> ?lit if</font><font color="#ff00ff"> ba</font><font color="#00ff00"> 1, ,</font><font color="#ff00ff"> 39c27d02</font><font color="#00ff00"> 4,</font><font color="#ff00ff"> 89d0</font><font color="#00ff00"> 2, ; then</font><font color="#ffff00"> min</font><font color="#00ff00"> compile, ;<br></font><font color="#ff0000"> for</font><font color="#00ff00"> ?lit if</font><font color="#ff00ff"> 68</font><font color="#00ff00"> 1, , here reset ; then</font><font color="#99aa66"> push</font><font color="#00ff00"> here reset ;<br></font><font color="#ff0000"> next</font><font color="#ff00ff"> ff0c2475</font><font color="#00ff00"> 4, here</font><font color="#00ffff"> 1</font><font color="#00ff00"> allot back</font><font color="#ff00ff"> 83c404</font><font color="#00ff00"> 3, ;<br></font><font color="#ff0000"> times</font><font color="#00ff00"> ?lit</font><font color="#00ffff"> 1</font><font color="#00ff00"> - here dup</font><font color="#00ffff"> 4</font><font color="#00ff00"> - @ + swap for dup compile, next drop ;<br></font><font color="#ff0000"> "</font><font color="#00ffff"> 34</font><font color="#00ff00"> fparse csliteral ;<br></font><font color="#ffffff"> set-order : end<p></font><font color="#0099ff"> Words a-</font><font color="#ffffff"> @<br></font><font color="#ffff00"> basic</font><font color="#ffffff"> branch</font><font color="#ff0000"> words<br></font><font color="#ffffff"> screen 12x22<br></font><font color="#ff0000"> l</font><font color="#00ff00"> drop</font><font color="#ff0000"> n</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> show</font><font color="#0099ff"> a-b</font><font color="#00ffff"> 3</font><font color="#00ff00"> emit dup count type</font><font color="#00ffff"> 1</font><font color="#00ff00"> u+ ;<br></font><font color="#ff0000"> all</font><font color="#00ff00"> show</font><font color="#00ffff"> 4</font><font color="#00ff00"> - @</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? if all ; then drop ;<br></font><font color="#ff0000"> in</font><font color="#00ff00"> keys l n</font><font color="#00ffff"> 28</font><font color="#00ff00"> times<br></font><font color="#ffffff"> black page</font><font color="#00ffff"> 0</font><font color="#ffffff"> swap all cr cr</font><font color="#00ffff"> 4</font><font color="#ffffff"> emit . switch in<br> words end<p></font><font color="#0099ff"> Mem<br></font><font color="#ffff00"> basic</font><font color="#ffffff"> branch</font><font color="#ff0000"> mem<br></font><font color="#ffffff"> screen 12x22<br> macros</font><font color="#ff0000"> ."</font><font color="#99aa66"> " count type</font><font color="#00ff00"> ;</font><font color="#ffffff"> :<br></font><font color="#ff0000"> l</font><font color="#00ff00"> drop</font><font color="#ff0000"> n</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> zeros</font><font color="#0099ff"> u-u</font><font color="#00ffff"> 8</font><font color="#00ff00"> over -</font><font color="#00ffff"> 0</font><font color="#00ff00"> max</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? if for ." 0" next ; then drop ;<br></font><font color="#ff0000"> n.</font><font color="#0099ff"> n-</font><font color="#00ffff"> 5</font><font color="#00ff00"> emit s>d number zeros type ;<br></font><font color="#ff0000"> h.</font><font color="#0099ff"> a-b</font><font color="#00ff00"> dup @ n.</font><font color="#00ffff"> 4</font><font color="#00ff00"> + ;<br></font><font color="#ff0000"> show</font><font color="#0099ff"> a-b</font><font color="#00ff00"> dup h. h. h. n. @ ;<br></font><font color="#ff0000"> fields</font><font color="#0099ff"> a-</font><font color="#00ff00"> show</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? if cr fields ; then drop ;<br></font><font color="#ff0000"> in</font><font color="#00ff00"> keys l n</font><font color="#00ffff"> 28</font><font color="#00ff00"> times<br></font><font color="#ff0000"> header</font><font color="#00ff00"> "</font><font color="#ffffff"> &nbsp;Link &nbsp; &nbsp; Length &nbsp; Link &nbsp; &nbsp; Address"</font><font color="#00ff00"> count type cr ;<br></font><font color="#ffffff"> black page white header</font><font color="#ff00ff"> 100000</font><font color="#ffffff"> fields switch in<br> mem end<p></font><font color="#0099ff"> Clock<br></font><font color="#ffff00"> basic</font><font color="#ffffff"> branch</font><font color="#ff0000"> clock<br></font><font color="#ffffff"> screen 12x22 macros<br></font><font color="#ff0000"> ."</font><font color="#99aa66"> " count type</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> cli</font><font color="#ff00ff"> fa</font><font color="#00ff00"> 1, ;<br></font><font color="#ff0000"> sti</font><font color="#ff00ff"> fb</font><font color="#00ff00"> 1, ;</font><font color="#ffffff"> :<br></font><font color="#ff0000"> rtc@</font><font color="#00ff00"> cli</font><font color="#ff00ff"> 70</font><font color="#00ff00"> pc!</font><font color="#ff00ff"> 71</font><font color="#00ff00"> pc@ sti ;<br></font><font color="#ff0000"> ready</font><font color="#ff00ff"> a</font><font color="#00ff00"> rtc@</font><font color="#ff00ff"> 80</font><font color="#00ff00"> ? drop if ready ; then ;<br></font><font color="#ff0000"> td@</font><font color="#00ff00"> ready rtc@</font><font color="#ff00ff"> 10</font><font color="#00ff00"> /mod</font><font color="#ff00ff"> a</font><font color="#00ff00"> * + ;<br></font><font color="#ff0000"> z.</font><font color="#00ff00"> td@ s>d number</font><font color="#ff00ff"> 1</font><font color="#00ff00"> ? if ." 0" then type ;<br></font><font color="#ff0000"> show</font><font color="#00ff00"> push td@</font><font color="#00ffff"> 1</font><font color="#00ff00"> -</font><font color="#00ffff"> 9</font><font color="#00ff00"> * pop</font><font color="#00ffff"> 1</font><font color="#00ff00"> + +</font><font color="#00ffff"> 9</font><font color="#00ff00"> -trailing type ;<br></font><font color="#ff0000"> .date</font><font color="#00ffff"> 6</font><font color="#00ff00"> " Monday &nbsp; Tuesday &nbsp;WednesdayThursday Friday &nbsp; Saturday Sunday &nbsp; " show ." , "</font><font color="#00ffff"> 8</font><font color="#00ff00"> " January &nbsp;Febuary &nbsp;March &nbsp; &nbsp;April &nbsp; &nbsp;May &nbsp; &nbsp; &nbsp;June &nbsp; &nbsp; July &nbsp; &nbsp; August &nbsp; SeptemberOctober &nbsp;November December " show space</font><font color="#00ffff"> 7</font><font color="#00ff00"> z. ." , 20"</font><font color="#00ffff"> 9</font><font color="#00ff00"> z. ;<br></font><font color="#ff0000"> .time</font><font color="#00ffff"> 4</font><font color="#00ff00"> z. ." :"</font><font color="#00ffff"> 2</font><font color="#00ff00"> z. ." :"</font><font color="#00ffff"> 0</font><font color="#00ff00"> z. ;<br></font><font color="#ff0000"> grey</font><font color="#ff00ff"> 60 60 60</font><font color="#ffffff"> rgb</font><font color="#00ff00"> pen ;<br></font><font color="#ff0000"> shadow</font><font color="#ff00ff"> 20 20 20</font><font color="#ffffff"> rgb</font><font color="#00ff00"> pen ;<br></font><font color="#ff0000"> time</font><font color="#00ffff"> 451 &nbsp;387</font><font color="#00ff00"> at shadow .time</font><font color="#00ffff"> 448 &nbsp;384</font><font color="#00ff00"> at white .time ;<br></font><font color="#ff0000"> date</font><font color="#00ffff"> 0 &nbsp;0</font><font color="#00ff00"> at grey .date ;<br></font><font color="#ff0000"> clear</font><font color="#00ffff"> 0 &nbsp;0</font><font color="#00ff00"> at black</font><font color="#ffffff"> width</font><font color="#00ffff"> &nbsp;22</font><font color="#00ff00"> box</font><font color="#00ffff"> 448 &nbsp;384</font><font color="#00ff00"> at grey</font><font color="#00ffff"> 138 &nbsp;34</font><font color="#00ff00"> box ;<br></font><font color="#ff0000"> out</font><font color="#00ff00"> clear date time switch</font><font color="#00ffff"> 20</font><font color="#00ff00"> ms out ;<br></font><font color="#ff0000"> l</font><font color="#00ff00"> drop</font><font color="#ff0000"> n</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> in</font><font color="#00ff00"> keys l n</font><font color="#00ffff"> 28</font><font color="#00ff00"> times<br></font><font color="#ffffff"> black page<br></font><font color="#00ffff"> 300 300</font><font color="#ffffff"> at grey</font><font color="#00ffff"> 424 192</font><font color="#ffffff"> box<br></font><font color="#00ffff"> 300 360</font><font color="#ffffff"> at shadow</font><font color="#00ffff"> 384 1</font><font color="#ffffff"> box</font><font color="#00ffff"> 360 300</font><font color="#ffffff"> at</font><font color="#00ffff"> 4 192</font><font color="#ffffff"> box<br></font><font color="#00ffff"> 250 350</font><font color="#ffffff"> at red</font><font color="#00ffff"> 424 1</font><font color="#ffffff"> box</font><font color="#00ffff"> 350 250</font><font color="#ffffff"> at</font><font color="#00ffff"> 4 292</font><font color="#ffffff"> box<br></font><font color="#ffff00"> out</font><font color="#ffffff"> child in<br> clock end<p></font><font color="#0099ff"> Floppy<br></font><font color="#00ffff"> 2 10</font><font color="#ffffff"> master cede<br></font><font color="#ffff00"> basic</font><font color="#ffffff"> branch</font><font color="#ff0000"> floppy<br></font><font color="#ffffff"> macros</font><font color="#ff0000"> cli</font><font color="#ff00ff"> fa</font><font color="#00ff00"> 1, ;</font><font color="#ff0000"> sti</font><font color="#ff00ff"> fb</font><font color="#00ff00"> 1, ;</font><font color="#ffffff"> :<br></font><font color="#ff0000"> irq6</font><font color="#ff00ff"> fffc</font><font color="#00ff00"> ;</font><font color="#ff0000"> flag</font><font color="#ffffff"> noop</font><font color="#00ff00"> ;</font><font color="#ff0000"> wait</font><font color="#00ffff"> 5</font><font color="#00ff00"> ms ;<br></font><font color="#ff0000"> dma</font><font color="#00ff00"> cli</font><font color="#ff00ff"> 6 &nbsp;a</font><font color="#00ff00"> pc!</font><font color="#ff00ff"> 0 &nbsp;c</font><font color="#00ff00"> pc!</font><font color="#ff00ff"> b</font><font color="#00ff00"> pc!</font><font color="#ff00ff"> 0 &nbsp;4</font><font color="#00ff00"> over over pc! pc!</font><font color="#ff00ff"> 9 &nbsp;81</font><font color="#00ff00"> pc!</font><font color="#ff00ff"> 0 &nbsp;5</font><font color="#00ff00"> pc!</font><font color="#ff00ff"> 48 &nbsp;5</font><font color="#00ff00"> pc!</font><font color="#ff00ff"> 2 &nbsp;a</font><font color="#00ff00"> pc! sti ;<br></font><font color="#ff0000"> c/r</font><font color="#00ff00"> if drop</font><font color="#ff00ff"> 80</font><font color="#00ff00"> and ; then nip ;<br></font><font color="#ff0000"> ready</font><font color="#00ff00"> c/r</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? drop ;<br></font><font color="#ff0000"> status</font><font color="#ff00ff"> 3f4</font><font color="#00ff00"> pc@ dup ;<br></font><font color="#ff0000"> c</font><font color="#00ff00"> status</font><font color="#ff00ff"> 40</font><font color="#00ff00"> xor ready if</font><font color="#ff00ff"> 3f5</font><font color="#00ff00"> pc! ; then wait c ;<br></font><font color="#ff0000"> r</font><font color="#00ff00"> status</font><font color="#ff00ff"> 40</font><font color="#00ff00"> and ready if</font><font color="#ff00ff"> 3f5</font><font color="#00ff00"> pc@ ; then wait r ;<br></font><font color="#ff0000"> ack</font><font color="#00ff00"> r drop ;<br></font><font color="#ff0000"> int</font><font color="#ffffff"> irq6</font><font color="#00ff00"> @</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? if nip</font><font color="#ffffff"> irq6</font><font color="#00ff00"> off ; then drop wait</font><font color="#00ffff"> 5</font><font color="#00ff00"> -<br></font><font color="#ff0000"> await</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? if int ; then drop</font><font color="#00ffff"> 1</font><font color="#00ff00"> throw ;<br></font><font color="#ff0000"> sense</font><font color="#00ffff"> 1000</font><font color="#00ff00"> await c ack ack ;<br></font><font color="#ff0000"> seek</font><font color="#00ffff"> -1</font><font color="#00ff00"> ? if</font><font color="#ff00ff"> f</font><font color="#00ff00"> c</font><font color="#ff00ff"> 0</font><font color="#00ff00"> c c sense ; then drop</font><font color="#ff0000"> cal</font><font color="#ff00ff"> 7</font><font color="#00ff00"> c</font><font color="#ff00ff"> 0</font><font color="#00ff00"> c sense ;<br></font><font color="#ff0000"> nod</font><font color="#00ffff"> 1000</font><font color="#00ff00"> await drop ;<br></font><font color="#ff0000"> r/w</font><font color="#00ff00"> c</font><font color="#ff00ff"> 0</font><font color="#00ff00"> c c</font><font color="#ff00ff"> 0</font><font color="#00ff00"> c</font><font color="#ff00ff"> 1</font><font color="#00ff00"> c</font><font color="#ff00ff"> 2</font><font color="#00ff00"> c</font><font color="#ff00ff"> 12</font><font color="#00ff00"> c</font><font color="#ff00ff"> 1b</font><font color="#00ff00"> c</font><font color="#ff00ff"> ff</font><font color="#00ff00"> c nod ack ack ack ack ack ack ack ;<br></font><font color="#ff0000"> cread</font><font color="#00ff00"> dup seek</font><font color="#ff00ff"> 46</font><font color="#00ff00"> dma</font><font color="#ff00ff"> e6</font><font color="#00ff00"> r/w</font><font color="#ff00ff"> 90000</font><font color="#00ff00"> swap</font><font color="#ff00ff"> 1200</font><font color="#00ff00"> move ;<br></font><font color="#ff0000"> cwrite</font><font color="#00ff00"> swap</font><font color="#ff00ff"> 90000 &nbsp;1200</font><font color="#00ff00"> move dup seek</font><font color="#ff00ff"> 5a</font><font color="#00ff00"> dma</font><font color="#ff00ff"> c5</font><font color="#00ff00"> r/w ;<br></font><font color="#ff0000"> op</font><font color="#ffffff"> flag</font><font color="#00ff00"> jump cwrite cread<br></font><font color="#ff0000"> go</font><font color="#00ff00"> for over over op</font><font color="#00ffff"> 18432</font><font color="#00ff00"> u+</font><font color="#00ffff"> 1</font><font color="#00ff00"> + next ;<br></font><font color="#ff0000"> spin</font><font color="#00ffff"> 300</font><font color="#00ff00"> ms ;<br></font><font color="#0099ff"> fd0</font><font color="#ffffff"> irq6 off</font><font color="#ff00ff"> 0 3f2</font><font color="#ffffff"> pc! spin<br></font><font color="#ff00ff"> 1c 3f2</font><font color="#ffffff"> pc! spin</font><font color="#ff00ff"> 0 3f7</font><font color="#ffffff"> pc! sense</font><font color="#ff00ff"> 3</font><font color="#ffffff"> c</font><font color="#ff00ff"> a1</font><font color="#ffffff"> c</font><font color="#ff00ff"> 2</font><font color="#ffffff"> c cal<br></font><font color="#00ffff"> 0 25</font><font color="#ffffff"> go drop drop<br></font><font color="#0099ff"> /fd</font><font color="#ffffff"> cal</font><font color="#ff00ff"> 0 3f2</font><font color="#ffffff"> pc! nod<br> floppy end<p><p></font><font color="#0099ff"> Tetris<br></font><font color="#ffff00"> basic</font><font color="#ffffff"> branch</font><font color="#ff0000"> tetris<br></font><font color="#ffffff"> screen macros<br></font><font color="#ff0000"> range</font><font color="#00ffff"> 0</font><font color="#00ff00"> lit</font><font color="#99aa66"> max</font><font color="#00ffff"> 1</font><font color="#00ff00"> lit</font><font color="#99aa66"> min</font><font color="#00ff00"> ;</font><font color="#ffffff"> :<br></font><font color="#ff0000"> rows</font><font color="#00ffff"> 16</font><font color="#00ff00"> ;</font><font color="#ff0000"> cols</font><font color="#00ffff"> 10</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> sq</font><font color="#00ffff"> 40</font><font color="#00ff00"> ;</font><font color="#ff0000"> x</font><font color="#00ffff"> 50</font><font color="#00ff00"> ;</font><font color="#ff0000"> y</font><font color="#00ffff"> 50</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> ln</font><font color="#ffffff"> cols</font><font color="#00ffff"> 4</font><font color="#ffffff"> *</font><font color="#00ff00"> ;</font><font color="#ff0000"> slots</font><font color="#ffffff"> rows ln *</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> all</font><font color="#ffffff"> slots ln +</font><font color="#00ff00"> ;<br></font><font color="#ffffff"> align</font><font color="#ff0000"> score</font><font color="#00ffff"> 0</font><font color="#ffffff"> ,<br></font><font color="#ff0000"> arena</font><font color="#ffffff"> all allot<br></font><font color="#ff0000"> bench</font><font color="#ffffff"> all allot<br></font><font color="#ff0000"> world</font><font color="#ffffff"> all allot<br></font><font color="#ff0000"> l</font><font color="#00ff00"> drop</font><font color="#ff0000"> n</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> @+</font><font color="#00ff00"> dup @</font><font color="#00ffff"> 4</font><font color="#00ff00"> u+ ;<br></font><font color="#ff0000"> update</font><font color="#ffffff"> all</font><font color="#00ffff"> 4</font><font color="#ffffff"> /</font><font color="#00ff00"> move ;<br></font><font color="#ffffff"> marker</font><font color="#ff0000"> game<br> f</font><font color="#00ffff"> 0</font><font color="#ffffff"> ,</font><font color="#ff0000"> fg</font><font color="#ffff00"> f</font><font color="#00ff00"> @ , ;</font><font color="#ff0000"> bg</font><font color="#00ffff"> 0</font><font color="#00ff00"> , ;<br></font><font color="#ff0000"> c</font><font color="#00ff00"> jump bg fg</font><font color="#ff0000"> r</font><font color="#00ff00"> c c c c ;<br></font><font color="#00ffff"> 24</font><font color="#ffffff"> load</font><font color="#00ffff"> 22</font><font color="#ffffff"> load</font><font color="#00ffff"> 21</font><font color="#ffffff"> load<br></font><font color="#ffff00"> arena</font><font color="#ffffff"> slots erase</font><font color="#ffff00"> arena</font><font color="#ffffff"> slots + ln</font><font color="#ff00ff"> f</font><font color="#ffffff"> fill copy<br></font><font color="#ff0000"> fall</font><font color="#00ff00"> down copy</font><font color="#ffff00"> delay</font><font color="#00ff00"> @ ms fall ;<br></font><font color="#ff0000"> in</font><font color="#00ff00"> keys l n n n n n n n n n n n n n n n n n n n n n flip n n n left down right<br></font><font color="#ffff00"> fall</font><font color="#ffffff"> child in<br> tetris end<p></font><font color="#0099ff"> Tetris Video Slave<br></font><font color="#00ffff"> 0 128</font><font color="#ffffff"> slave cede<br></font><font color="#ffff00"> game</font><font color="#ffffff"> branch</font><font color="#ff0000"> video<br></font><font color="#ffffff"> 12x22<br></font><font color="#ff0000"> tx</font><font color="#ffffff"> cols sq * x +</font><font color="#00ffff"> 20</font><font color="#ffffff"> +</font><font color="#00ff00"> ;</font><font color="#ff0000"> ty</font><font color="#ffffff"> y</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> nl</font><font color="#00ff00"> cr</font><font color="#ffffff"> tx</font><font color="#00ffff"> &nbsp;0</font><font color="#00ff00"> +at ;</font><font color="#ffffff"> macros<br></font><font color="#ff0000"> ."</font><font color="#99aa66"> nl</font><font color="#00ffff"> 34</font><font color="#00ff00"> fparse sliteral</font><font color="#99aa66"> type</font><font color="#00ff00"> ;</font><font color="#ffffff"> :<br></font><font color="#ff0000"> back</font><font color="#ff00ff"> 60 60 60</font><font color="#ffffff"> rgb</font><font color="#00ff00"> nip<br></font><font color="#ff0000"> fore</font><font color="#00ff00"> pen<br></font><font color="#ff0000"> sqr</font><font color="#00ffff"> 1</font><font color="#00ff00"> dup +at</font><font color="#ffffff"> sq</font><font color="#00ffff"> 2</font><font color="#ffffff"> -</font><font color="#00ff00"> dup box</font><font color="#ffffff"> sq</font><font color="#00ffff"> 1</font><font color="#ffffff"> -</font><font color="#00ffff"> &nbsp;-1</font><font color="#00ff00"> +at ;<br></font><font color="#ff0000"> slot</font><font color="#00ff00"> @+ dup range jump back fore<br></font><font color="#ff0000"> line</font><font color="#00ff00"> slot</font><font color="#ffffff"> cols</font><font color="#00ff00"> times get push drop</font><font color="#ffffff"> x</font><font color="#00ff00"> pop</font><font color="#ffffff"> sq</font><font color="#00ff00"> + at ;<br></font><font color="#ff0000"> draw</font><font color="#ffffff"> x &nbsp;y</font><font color="#00ff00"> at line</font><font color="#ffffff"> rows</font><font color="#00ff00"> times drop<br></font><font color="#ffffff"> tx &nbsp;ty</font><font color="#00ff00"> at</font><font color="#ffff00"> score</font><font color="#00ff00"> @</font><font color="#00ffff"> 4</font><font color="#00ff00"> emit . ."</font><font color="#ffff00"> &nbsp;Tetris</font><font color="#0099ff"> v1"</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> out</font><font color="#ffff00"> world</font><font color="#00ff00"> black page</font><font color="#ffff00"> bench</font><font color="#00ff00"> over update draw switch</font><font color="#00ffff"> 20</font><font color="#00ff00"> ms out ;<br></font><font color="#ffffff"> out<p><br></font><font color="#ffffff"> align</font><font color="#ff0000"> seed</font><font color="#ff00ff"> fff8</font><font color="#ffffff"> @ ,</font><font color="#ff0000"> shp</font><font color="#00ffff"> 0</font><font color="#ffffff"> ,</font><font color="#ff0000"> bmp</font><font color="#00ffff"> 0</font><font color="#ffffff"> ,</font><font color="#ff0000"> pnt</font><font color="#00ffff"> 0</font><font color="#ffffff"> ,</font><font color="#ff0000"> s</font><font color="#00ffff"> 0</font><font color="#ffffff"> ,</font><font color="#ff0000"> a</font><font color="#00ffff"> 0</font><font color="#ffffff"> ,</font><font color="#ff0000"> delay</font><font color="#00ffff"> 1000</font><font color="#ffffff"> ,<br></font><font color="#ff0000"> random</font><font color="#ffff00"> seed</font><font color="#00ff00"> @</font><font color="#00ffff"> 31421</font><font color="#00ff00"> *</font><font color="#00ffff"> 6927</font><font color="#00ff00"> + dup</font><font color="#ffff00"> seed</font><font color="#00ff00"> ! um* nip ;<br></font><font color="#ff0000"> shape</font><font color="#00ffff"> 6</font><font color="#00ff00"> random</font><font color="#00ffff"> 256</font><font color="#00ff00"> *</font><font color="#ffff00"> shapes</font><font color="#00ff00"> +</font><font color="#ffff00"> shp</font><font color="#00ff00"> !</font><font color="#00ffff"> 0</font><font color="#ffff00"> &nbsp;bmp</font><font color="#00ff00"> !</font><font color="#00ffff"> 8</font><font color="#ffff00"> &nbsp;pnt</font><font color="#00ff00"> ! ;</font><font color="#ffffff"> shape<br></font><font color="#ff0000"> pb</font><font color="#ffff00"> pnt</font><font color="#00ff00"> @</font><font color="#ffff00"> bmp</font><font color="#00ff00"> @ ;<br></font><font color="#ff0000"> fg</font><font color="#00ff00"> over !</font><font color="#00ffff"> 4</font><font color="#00ff00"> + pop ;</font><font color="#ff0000"> bg</font><font color="#00ff00"> drop</font><font color="#00ffff"> 4</font><font color="#00ff00"> + pop ;<br></font><font color="#ff0000"> sq</font><font color="#00ff00"> push @r+ dup range jump bg fg<br></font><font color="#ff0000"> row</font><font color="#00ff00"> sq sq sq sq</font><font color="#ffffff"> ln</font><font color="#00ffff"> 16</font><font color="#ffffff"> -</font><font color="#00ff00"> u+ ;<br></font><font color="#ff0000"> point</font><font color="#ffff00"> pnt</font><font color="#00ff00"> +!<br></font><font color="#ff0000"> copy</font><font color="#ffff00"> arena &nbsp;bench</font><font color="#00ff00"> update<br></font><font color="#ff0000"> lay</font><font color="#ffff00"> bench &nbsp;pnt</font><font color="#00ff00"> @ +</font><font color="#ffff00"> shp</font><font color="#00ff00"> @</font><font color="#ffff00"> bmp</font><font color="#00ff00"> @</font><font color="#00ffff"> 64</font><font color="#00ff00"> * + row row row row drop drop ;<br></font><font color="#ff0000"> adj</font><font color="#ffff00"> a</font><font color="#00ff00"> +!</font><font color="#ffff00"> s</font><font color="#00ff00"> +! ;<br></font><font color="#ff0000"> h@</font><font color="#00ffff"> 4 &nbsp;4</font><font color="#00ff00"> adj</font><font color="#ffff00"> s</font><font color="#ff0000"> &nbsp;@@</font><font color="#00ff00"> @ @ range ;<br></font><font color="#ff0000"> v@</font><font color="#00ffff"> -16</font><font color="#ffffff"> &nbsp;ln neg</font><font color="#00ff00"> adj</font><font color="#ffff00"> s</font><font color="#00ff00"> @@ ;<br></font><font color="#ff0000"> exit</font><font color="#00ff00"> pop drop</font><font color="#ff0000"> again</font><font color="#00ff00"> ;<br></font><font color="#ff0000"> check</font><font color="#ffff00"> a</font><font color="#00ff00"> @@ jump again exit<br></font><font color="#ff0000"> h</font><font color="#00ff00"> h@ jump again check<br></font><font color="#ff0000"> ledge</font><font color="#ffff00"> a</font><font color="#00ff00"> @</font><font color="#00ffff"> 4</font><font color="#00ff00"> +<br></font><font color="#ff0000"> edge</font><font color="#ffff00"> arena</font><font color="#00ff00"> -</font><font color="#ffffff"> ln</font><font color="#00ff00"> mod range jump exit check<br></font><font color="#ff0000"> redge</font><font color="#ffff00"> a</font><font color="#00ff00"> @ edge ;<br></font><font color="#ff0000"> vl</font><font color="#00ff00"> v@ jump again ledge<br></font><font color="#ff0000"> vr</font><font color="#00ff00"> v@ jump again redge<br></font><font color="#ff0000"> src</font><font color="#00ff00"> push</font><font color="#00ffff"> 64</font><font color="#00ff00"> *</font><font color="#ffff00"> shp</font><font color="#00ff00"> @ + pop +</font><font color="#ffff00"> s</font><font color="#00ff00"> ! ;<br></font><font color="#ff0000"> dest</font><font color="#ffff00"> arena</font><font color="#00ff00"> u+</font><font color="#ffffff"> ln</font><font color="#00ffff"> 4</font><font color="#ffffff"> *</font><font color="#00ff00"> u+ +</font><font color="#ffff00"> a</font><font color="#00ff00"> ! ;<br></font><font color="#ff0000"> h+</font><font color="#00ffff"> -32</font><font color="#ffffff"> &nbsp;ln</font><font color="#00ffff"> 16</font><font color="#ffffff"> + neg</font><font color="#00ff00"> adj ;<br></font><font color="#ff0000"> v+</font><font color="#00ff00"> dup</font><font color="#00ffff"> 64</font><font color="#00ff00"> u+</font><font color="#ffffff"> ln</font><font color="#00ffff"> 4</font><font color="#ffffff"> *</font><font color="#00ff00"> + adj ;<br></font><font color="#ff0000"> hbounds</font><font color="#00ffff"> 44</font><font color="#00ff00"> src</font><font color="#00ffff"> -4</font><font color="#00ff00"> dest</font><font color="#00ffff"> 0</font><font color="#00ff00"> h h h h h+ h h h h h+ h h h h h+ h h h h</font><font color="#00ffff"> 1</font><font color="#00ff00"> + ;<br></font><font color="#ff0000"> rvbounds</font><font color="#00ffff"> 76</font><font color="#00ff00"> src</font><font color="#00ffff"> 16</font><font color="#00ff00"> dest</font><font color="#00ffff"> 0</font><font color="#00ff00"> vr vr vr vr</font><font color="#00ffff"> -4</font><font color="#00ff00"> v+ vr vr vr vr</font><font color="#00ffff"> -4</font><font color="#00ff00"> v+ vr vr vr vr</font><font color="#00ffff"> 1</font><font color="#00ff00"> + ;<br></font><font color="#ff0000"> lvbounds</font><font color="#00ffff"> 64</font><font color="#00ff00"> src</font><font color="#00ffff"> -4</font><font color="#00ff00"> dest</font><font color="#00ffff"> 0</font><font color="#00ff00"> vl vl vl vl</font><font color="#00ffff"> 4</font><font color="#00ff00"> v+ vl vl vl vl</font><font color="#00ffff"> 4</font><font color="#00ff00"> v+ vl vl vl vl</font><font color="#00ffff"> 1</font><font color="#00ff00"> + ;<p></font><font color="#0099ff"> Lines<br></font><font color="#ff0000"> remove</font><font color="#ffff00"> bench</font><font color="#00ff00"> - push</font><font color="#ffff00"> bench</font><font color="#00ff00"> dup</font><font color="#ffffff"> ln</font><font color="#00ff00"> + pop cmove></font><font color="#00ffff"> 1</font><font color="#ffff00"> &nbsp;score</font><font color="#00ff00"> +! ;<br></font><font color="#ff0000"> used</font><font color="#00ff00"> @+ range jump exit again<br></font><font color="#ff0000"> check</font><font color="#00ffff"> 0</font><font color="#00ff00"> swap used</font><font color="#ffffff"> cols</font><font color="#00ff00"> times</font><font color="#00ffff"> 1</font><font color="#00ff00"> u+ ;<br></font><font color="#ff0000"> scan</font><font color="#00ff00"> dup</font><font color="#ffffff"> ln</font><font color="#00ff00"> u+ dup check drop jump l remove<br></font><font color="#ff0000"> full</font><font color="#ffff00"> bench</font><font color="#00ff00"> scan</font><font color="#ffffff"> rows</font><font color="#00ff00"> times drop ;<br></font><font color="#ff0000"> flip!</font><font color="#ffff00"> bmp</font><font color="#00ff00"> ! copy ;<br></font><font color="#ff0000"> flip</font><font color="#00ff00"> pb</font><font color="#00ffff"> 1</font><font color="#00ff00"> + dup</font><font color="#ff00ff"> 4</font><font color="#00ff00"> and - over</font><font color="#00ffff"> 4</font><font color="#00ff00"> + over lvbounds push over over rvbounds r+ swap</font><font color="#ffffff"> ln</font><font color="#00ff00"> - over hbounds pop +</font><font color="#00ffff"> 2</font><font color="#00ff00"> - range jump l flip!<br></font><font color="#ff0000"> new</font><font color="#00ff00"> drop full</font><font color="#ffff00"> bench &nbsp;arena</font><font color="#00ff00"> update shape lay ;<br></font><font color="#ff0000"> right</font><font color="#00ffff"> 4</font><font color="#00ff00"> pb rvbounds</font><font color="#ff0000"> arrow</font><font color="#00ff00"> jump l point<br></font><font color="#ff0000"> left</font><font color="#00ffff"> -4</font><font color="#00ff00"> pb lvbounds arrow ;<br></font><font color="#ff0000"> down</font><font color="#ffffff"> ln</font><font color="#00ff00"> pb hbounds jump new point<br></font><font color="#ffffff"> end<p></font><font color="#0099ff"> Shapes<br></font><font color="#ffffff"> align</font><font color="#ff0000"> shapes<br></font><font color="#ff00ff"> ff 00 00</font><font color="#ffffff"> rgb</font><font color="#ffff00"> f</font><font color="#ffffff"> !<br></font><font color="#ff00ff"> 0 0 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 0 0 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 0 0 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 0 0 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 00 ff 00</font><font color="#ffffff"> rgb</font><font color="#ffff00"> f</font><font color="#ffffff"> !<br></font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 1 1 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 1 1 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 00 99 ff</font><font color="#ffffff"> rgb</font><font color="#ffff00"> f</font><font color="#ffffff"> !<br></font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 1 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 1 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 1 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 00 ff ff</font><font color="#ffffff"> rgb</font><font color="#ffff00"> f</font><font color="#ffffff"> !<br></font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 1 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 1 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> ff 00 ff</font><font color="#ffffff"> rgb</font><font color="#ffff00"> f</font><font color="#ffffff"> !<br></font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 1 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 1 0 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 0 1 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 0 0 0 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 1 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<p><br></font><font color="#ff00ff"> ff ff 00</font><font color="#ffffff"> rgb</font><font color="#ffff00"> f</font><font color="#ffffff"> !<br></font><font color="#ff00ff"> 0 1 0 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 1 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 0 0 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 1 1 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 1</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br></font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 1 1 0</font><font color="#ffffff"> r</font><font color="#ff00ff"> 0 0 0 0</font><font color="#ffffff"> r<br> end<p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p></font><font color="#ffff00"> Enth 0.4</font><font color="#0099ff"> Public Domain<br> Sean Pringle, 2002.<br> http://www.ynet.com.au/sean/<br></font><font color="#ff0000"> &nbsp;Color Editor<br></font><font color="#ffffff"> &nbsp;Normal QWERTY editing with permanent INSERT mode. Special keys:<br></font><font color="#ff0000"> &nbsp;F1</font><font color="#00ff00"> F2</font><font color="#ffffff"> F3</font><font color="#00ffff"> F4</font><font color="#ff00ff"> F5</font><font color="#ffff00"> F6</font><font color="#99aa66"> F7</font><font color="#0099ff"> F10</font><font color="#ffffff"> function keys insert color tokens<br></font><font color="#0099ff"> SPACEBAR</font><font color="#ffffff"> mimic last used function key<br></font><font color="#0099ff"> CTRL</font><font color="#ffffff"> then</font><font color="#0099ff"> F1-F10</font><font color="#ffffff"> color token doubles as line break<br></font><font color="#0099ff"> ALT</font><font color="#ffffff"> switch between code and shadow blocks<br></font><font color="#0099ff"> F12</font><font color="#ffffff"> insert normal blank space<br> &nbsp;Top right of screen tells you:<br> &nbsp;- Block</font><font color="#0099ff"> (</font><font color="#00ffff"> 1024</font><font color="#0099ff"> bytes/chars )<br></font><font color="#ffffff"> - Spare characters<br> - Function, key and color of token/word underneath cursor<br></font><font color="#ff0000"> &nbsp;Color Terminal<br></font><font color="#ffffff"> &nbsp;Edit top of block</font><font color="#00ffff"> 0.</font><font color="#ffffff"> Press ENTER. Editor stops. Block</font><font color="#00ffff"> 0</font><font color="#ffffff"> interpretted until OK reached. New OK inserted. Editor restarts.<br> Command history scrolls down. To reuse a command, hold down DELETE until it reaches the top of the screen once more.<p></font><font color="#0099ff"> Boot<br></font><font color="#ff0000"> &nbsp; warm</font><font color="#ffffff"> boot<br></font><font color="#ff0000"> screen</font><font color="#ffffff"> compile video words<br></font><font color="#ff0000"> 12x22</font><font color="#ffffff"> compile 12x22 pixel font words<br></font><font color="#ff0000"> 6x11</font><font color="#ffffff"> compile 6x11 font words<br></font><font color="#ff0000"> disk1</font><font color="#ffffff"> system boot disk image<br></font><font color="#ff0000"> floppy@</font><font color="#0099ff"> a-</font><font color="#ffffff"> read from floppy to</font><font color="#0099ff"> a<br></font><font color="#ff0000"> floppy!</font><font color="#0099ff"> a-</font><font color="#ffffff"> write to floppy from</font><font color="#0099ff"> a<br></font><font color="#ff0000"> l</font><font color="#0099ff"> u-</font><font color="#ffffff"> list</font><font color="#ff0000"> ed</font><font color="#0099ff"> a-</font><font color="#ffffff"> start editor at block following</font><font color="#0099ff"> a<br></font><font color="#ff0000"> when</font><font color="#ffffff"> display system clock<br></font><font color="#ff0000"> mem</font><font color="#ffffff"> display allocated memory<br></font><font color="#ff0000"> flux1</font><font color="#ffffff"> address of system source in boot image<br></font><font color="#ff0000"> save</font><font color="#ffffff"> system to disk<br></font><font color="#ff0000"> revert</font><font color="#ffffff"> reload system source from image<br></font><font color="#ff0000"> dump</font><font color="#0099ff"> a-</font><font color="#ffffff"> memory at</font><font color="#0099ff"> a<br></font><font color="#ff0000"> words</font><font color="#0099ff"> wid-</font><font color="#ffffff"> display words in wordlist</font><font color="#0099ff"> wid<br></font><font color="#ff0000"> &nbsp;bye</font><font color="#ffffff"> reboot<br></font><font color="#ff0000"> keys</font><font color="#ffffff"> keyboard jump table handler<br> marker</font><font color="#ff0000"> basic</font><font color="#ffffff"> common baseline branchpoint<br> load keyboard driver and start color terminal<br></font><font color="#ff0000"> await</font><font color="#ffffff"> a warm boot<p></font><font color="#0099ff"> Color Terminal<br></font><font color="#ffffff"> create as autonomous task<br></font><font color="#ff0000"> tib</font><font color="#ffffff"> terminal input block<br></font><font color="#ff0000"> &nbsp; ok</font><font color="#ffffff"> synonym for end<br></font><font color="#ff0000"> comment</font><font color="#0099ff"> au-</font><font color="#ffffff"> display string as comment<br></font><font color="#ff0000"> .</font><font color="#ffffff"> display number tos and discard<br></font><font color="#ff0000"> u.</font><font color="#ffffff"> unsigned .<br></font><font color="#ff0000"> .s</font><font color="#ffffff"> display stack<br></font><font color="#ff0000"> &nbsp;spot</font><font color="#0099ff"> -a</font><font color="#ffffff"> where interpretting actually happens<br></font><font color="#ff0000"> &nbsp; wrong</font><font color="#ffffff"> display error message<br></font><font color="#ff0000"> edit</font><font color="#ffffff"> run editor at tib<br></font><font color="#ff0000"> in</font><font color="#ffffff"> edit block</font><font color="#00ffff"> 0</font><font color="#ffffff"> and copy to spot<br></font><font color="#ff0000"> &nbsp; &nbsp;start</font><font color="#ffffff"> baseline the task<br></font><font color="#ff0000"> listen</font><font color="#ffffff"> like QUIT<br></font><font color="#ffff00"> &nbsp;Personal words to be available at the terminal</font><font color="#ffffff"> eg<br></font><font color="#ff0000"> wipe</font><font color="#0099ff"> u-</font><font color="#ffffff"> erase block</font><font color="#0099ff"> u</font><font color="#ffffff"> and prepare for editing<br></font><font color="#ff0000"> copy</font><font color="#0099ff"> uv-</font><font color="#ffffff"> copy block</font><font color="#0099ff"> u</font><font color="#ffffff"> to block</font><font color="#0099ff"> v<p><p></font><font color="#0099ff"> Keyboard<br></font><font color="#ffffff"> &nbsp;QWERTY layout.<br> &nbsp;The code isn't pretty, perhaps reflecting the PC keyboard design. It may not be the best way.<br> &nbsp;Two execution token tables are used.</font><font color="#ff0000"> Ekeys</font><font color="#ffffff"> handles the control keys and</font><font color="#ff0000"> Ckeys</font><font color="#ffffff"> the ascii character keys.<br></font><font color="#ff0000"> &nbsp;keys</font><font color="#ffffff"> is the application keyboard handler. It has this jump table format:<br></font><font color="#0099ff"> text esc f1 f2 f3 f4 f5 f6 f7 f8 f9 f10 f11 f12 bkspc tab ins home pgup del end pgdn ctrl alt space up left down right<br></font><font color="#ffffff"> An app can use these</font><font color="#00ffff"> 28</font><font color="#ffffff"> control keys as it likes. All character keys get handed to the zeroth word (`text' above). An app must handle characters here, even if that means simply discarding them.<br> &nbsp;Other control keys like SHIFT, CAPS LOCK and ENTER/RETURN are handled by the system. ENTER acts as the default `ok we are done' key. Hit it to exit an application or compile at the command block.<br> &nbsp;NUM LOCK is not currently supported. It may be added in due course.<p><p><p></font><font color="#0099ff"> Video<br></font><font color="#ff0000"> &nbsp;rgb</font><font color="#0099ff"> rgb-c</font><font color="#ffffff"> create correct color value for current video mode<br></font><font color="#ff0000"> &nbsp;pen</font><font color="#0099ff"> c-</font><font color="#ffffff"> set drawing mode to color</font><font color="#0099ff"> c<br></font><font color="#ffffff"> generic colors<br></font><font color="#ff0000"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;frame</font><font color="#0099ff"> -a</font><font color="#ffffff"> drawing buffer<br></font><font color="#ff0000"> at</font><font color="#0099ff"> xy-</font><font color="#ffffff"> move to screen pixel co-ordinates</font><font color="#0099ff"> xy<br></font><font color="#ff0000"> get</font><font color="#0099ff"> -xy</font><font color="#ffffff"> last screen pixel co-ordinates<br></font><font color="#ff0000"> +at</font><font color="#0099ff"> xy-</font><font color="#ffffff"> relative at<br></font><font color="#ff0000"> box</font><font color="#0099ff"> xy-</font><font color="#ffffff"> draw filled box of dimensions</font><font color="#0099ff"> xy<br></font><font color="#ff0000"> &nbsp;page</font><font color="#ffffff"> clear screen<br></font><font color="#ff0000"> switch</font><font color="#ffffff"> move frame to screen<p></font><font color="#0099ff"> 12x22 Font</font><font color="#ffffff"> occupies</font><font color="#00ffff"> 33</font><font color="#ffffff"> blocks of dictionary space<br></font><font color="#ff0000"> cr</font><font color="#ffffff"> carriage return and line feed<br></font><font color="#ff0000"> cf</font><font color="#ffffff"> carriage feed<br></font><font color="#ff0000"> &nbsp;ascii</font><font color="#ffffff"> execution token table for characters<br> &nbsp;Basically the code in here expands the bitmapped characters into compiled code.<br></font><font color="#ff0000"> &nbsp;fp</font><font color="#ffffff"> writes one foreground pixel to memory at the pointer top of stack with post increment of</font><font color="#00ffff"> 2</font><font color="#ffffff"> bytes for</font><font color="#00ffff"> 16</font><font color="#ffffff"> bit VESA graphics.<br></font><font color="#ff0000"> fpl</font><font color="#ffffff"> does the same except it advances the pointer by one scanline.<br> &nbsp;Background pixels add themselves together to become simple additions to the pointer.<br> &nbsp;Color tokens are characters too. They include a color change in their code but otherwise operate like</font><font color="#ff0000"> space.<br></font><font color="#ffffff"> &nbsp;The numbering color tokens,</font><font color="#00ffff"> 4</font><font color="#ffffff"> and</font><font color="#ff00ff"> 5,</font><font color="#ffffff"> also alter the system number</font><font color="#ff0000"> base.</font><font color="#ffffff"> This means that when displaying numbers, both display base and color can be set with a single color token emit.<p></font><font color="#0099ff"> 6x11 Font</font><font color="#ffffff"> occupies</font><font color="#00ffff"> 13</font><font color="#ffffff"> blocks of dictionary space<br> Operates same as 12x22.<p></font><font color="#0099ff"> Dump<br></font><font color="#ff0000"> &nbsp;mem</font><font color="#ffffff"> dump start address<br></font><font color="#ff0000"> line</font><font color="#ffffff"> adjust dwords per line according to screen resolution<br></font><font color="#ff0000"> incr</font><font color="#ffffff"> increment<br></font><font color="#ff0000"> digits</font><font color="#0099ff"> un-u</font><font color="#ffffff"> display padding zeros<br></font><font color="#ff0000"> n.</font><font color="#0099ff"> nm-</font><font color="#ffffff"> display</font><font color="#00ffff"> 1</font><font color="#ffffff"> number in hex<br></font><font color="#ff0000"> lo</font><font color="#0099ff"> n-nb</font><font color="#ffffff"> lowest byte<br></font><font color="#ff0000"> b</font><font color="#0099ff"> n-m</font><font color="#ffffff"> display</font><font color="#00ffff"> 1</font><font color="#ffffff"> byte<br></font><font color="#ff0000"> c</font><font color="#0099ff"> n-m</font><font color="#ffffff"> display</font><font color="#00ffff"> 1</font><font color="#ffffff"> character<br></font><font color="#ff0000"> @+</font><font color="#0099ff"> a-bn</font><font color="#ffffff"> fetch with post increment from</font><font color="#0099ff"> a<br></font><font color="#ff0000"> dword</font><font color="#0099ff"> a-b</font><font color="#ffffff"> display</font><font color="#00ffff"> 1</font><font color="#ffffff"> dword<br></font><font color="#ff0000"> equiv</font><font color="#0099ff"> a-b</font><font color="#ffffff"> display text equivalent of</font><font color="#00ffff"> 1</font><font color="#ffffff"> dword<br></font><font color="#ff0000"> addr</font><font color="#0099ff"> a-a</font><font color="#ffffff"> display address<br></font><font color="#ff0000"> orig</font><font color="#ffffff"> display original dump address<br></font><font color="#ff0000"> nums</font><font color="#ffffff"> hex display<br></font><font color="#ff0000"> text</font><font color="#ffffff"> text display<br></font><font color="#ff0000"> draw</font><font color="#ffffff"> everything<br></font><font color="#ff0000"> out</font><font color="#ffffff"> video task<br></font><font color="#ff0000"> point</font><font color="#0099ff"> n-</font><font color="#ffffff"> adjust start address<br></font><font color="#ff0000"> up</font><font color="#ffffff"> arrow</font><font color="#ff0000"> dn</font><font color="#ffffff"> arrow<br></font><font color="#ff0000"> pgdn</font><font color="#ffffff"> key</font><font color="#ff0000"> pgup</font><font color="#ffffff"> key<br></font><font color="#ff0000"> l</font><font color="#ffffff"> drop ascii</font><font color="#ff0000"> n</font><font color="#ffffff"> oop<br></font><font color="#ff0000"> in</font><font color="#ffffff"> keyboard handler and control key jump table<br> start child task for video. handle keyboard<p></font><font color="#0099ff"> Color Editor<br></font><font color="#ff0000"> &nbsp; ."</font><font color="#ffffff"> compile string word<br></font><font color="#ff0000"> ex</font><font color="#ffffff"> unnest<br></font><font color="#ff0000"> pg</font><font color="#ffffff"> page</font><font color="#ff0000"> sb</font><font color="#ffffff"> shadow block offset<br></font><font color="#ff0000"> s</font><font color="#ffffff"> start of block</font><font color="#ff0000"> p</font><font color="#ffffff"> cursor address</font><font color="#ff0000"> l</font><font color="#ffffff"> end of block<br></font><font color="#ff0000"> last</font><font color="#ffffff"> character in block<br></font><font color="#ff0000"> true</font><font color="#ffffff"> flag<br></font><font color="#ff0000"> bounds</font><font color="#0099ff"> a-b</font><font color="#ffffff"> ensure</font><font color="#0099ff"> a</font><font color="#ffffff"> is within current block<br></font><font color="#ff0000"> in</font><font color="#ffffff"> get cursor<br></font><font color="#ff0000"> +to</font><font color="#ffffff"> relative<br></font><font color="#ff0000"> to</font><font color="#ffffff"> adjust cursor<br></font><font color="#ff0000"> +@</font><font color="#0099ff"> an-bc</font><font color="#ffffff"> pre increment char fetch<br></font><font color="#ff0000"> @+</font><font color="#0099ff"> an-bc</font><font color="#ffffff"> post increment char fetch<br></font><font color="#ff0000"> check</font><font color="#0099ff"> a-b</font><font color="#ffffff"> for char in previous byte<br></font><font color="#ff0000"> scan</font><font color="#0099ff"> -a</font><font color="#ffffff"> for last used byte in block<br></font><font color="#ff0000"> rear</font><font color="#0099ff"> c-</font><font color="#ffffff"> display cursor behind char<br></font><font color="#ff0000"> fore</font><font color="#0099ff"> c-</font><font color="#ffffff"> display cursor foreground<br></font><font color="#ff0000"> cur</font><font color="#0099ff"> a-b</font><font color="#ffffff"> display cursor as current word color<br></font><font color="#ff0000"> show</font><font color="#0099ff"> a-</font><font color="#ffffff"> display block at</font><font color="#0099ff"> a<br></font><font color="#ff0000"> add</font><font color="#0099ff"> c-</font><font color="#ffffff"> character at cursor, auto insert mode<br></font><font color="#ff0000"> sub</font><font color="#ffffff"> delete character at cursor<br></font><font color="#ff0000"> rev</font><font color="#0099ff"> a-b</font><font color="#ffffff"> reverse<br></font><font color="#ff0000"> br</font><font color="#0099ff"> c-</font><font color="#ffffff"> check for line break token<br></font><font color="#ff0000"> sol</font><font color="#0099ff"> a-b</font><font color="#ffffff"> locate start of current line<br></font><font color="#ff0000"> adv</font><font color="#0099ff"> a-b</font><font color="#ffffff"> advance<br></font><font color="#ff0000"> eol</font><font color="#0099ff"> a-b</font><font color="#ffffff"> locate end of current line<br></font><font color="#ff0000"> t0</font><font color="#0099ff"> through</font><font color="#ff0000"> tx</font><font color="#ffffff"> are display strings for respective tokens<p><br></font><font color="#ff0000"> cl</font><font color="#ffffff"> ctrl key</font><font color="#ff0000"> mode</font><font color="#ffffff"> last used token<br></font><font color="#ff0000"> t</font><font color="#0099ff"> t-</font><font color="#ffffff"> insert token</font><font color="#0099ff"> t<br></font><font color="#ffffff"> function keys<br></font><font color="#ff0000"> &nbsp;f12</font><font color="#ffffff"> insert normal blank space</font><font color="#ff00ff"> 20<br></font><font color="#ff0000"> sbar</font><font color="#ffffff"> spacebar insert mode<br></font><font color="#ff0000"> left</font><font color="#ffffff"> arrow<br></font><font color="#ff0000"> right</font><font color="#ffffff"> arrow<br></font><font color="#ff0000"> up</font><font color="#ffffff"> arrow<br></font><font color="#ff0000"> dn</font><font color="#ffffff"> arrow<br></font><font color="#ff0000"> &nbsp;home</font><font color="#ffffff"> key<br></font><font color="#ff0000"> lnend</font><font color="#ffffff"> end key<br></font><font color="#ff0000"> bkspc</font><font color="#ffffff"> backspace<br></font><font color="#ff0000"> ctrl</font><font color="#ffffff"> key, next used color token will also be line break<br></font><font color="#ff0000"> alt</font><font color="#ffffff"> key, alternate between code and shadow blocks<br></font><font color="#ff0000"> scroll</font><font color="#0099ff"> n-</font><font color="#ffffff"> adjust pointers by</font><font color="#0099ff"> n</font><font color="#ffffff"> chars<br></font><font color="#ff0000"> pgup</font><font color="#ffffff"> previous block<br></font><font color="#ff0000"> pgdn</font><font color="#ffffff"> next block<br></font><font color="#ff0000"> d.</font><font color="#ffffff"> decimal .<br></font><font color="#ff0000"> info</font><font color="#ffffff"> display current block info top right hand of screen<br></font><font color="#ff0000"> .t</font><font color="#ffffff"> display action of current cursor color<br></font><font color="#ff0000"> &nbsp;spot</font><font color="#ffffff"> double buffer the display, prevents flicker<br></font><font color="#ff0000"> copy</font><font color="#ffffff"> current block to spot<br></font><font color="#ff0000"> &nbsp; &nbsp; edit</font><font color="#ffffff"> compiling the word end means this source block can be edited<p><p><p><p><p></font><font color="#0099ff"> Clock<br></font><font color="#ff0000"> &nbsp; &nbsp;cli sti</font><font color="#ffffff"> pentium clear and set interupts instructions<br></font><font color="#ff0000"> &nbsp;rtc@</font><font color="#0099ff"> r-n</font><font color="#ffffff"> read from real time clock register</font><font color="#0099ff"> r<br></font><font color="#ff0000"> ready</font><font color="#ffffff"> check to make sure clock is not updating<br></font><font color="#ff0000"> td@</font><font color="#0099ff"> r-n</font><font color="#ffffff"> read from time or date register</font><font color="#0099ff"> r<br></font><font color="#ff0000"> z.</font><font color="#0099ff"> n-</font><font color="#ffffff"> display</font><font color="#0099ff"> n</font><font color="#ffffff"> padded out to two characters with zeros<br></font><font color="#ff0000"> show</font><font color="#0099ff"> na-</font><font color="#ffffff"> display string field</font><font color="#0099ff"> n</font><font color="#ffffff"> in array</font><font color="#0099ff"> a<br></font><font color="#ff0000"> .date</font><font color="#ffffff"> display formatted date<br></font><font color="#ff0000"> &nbsp; .time</font><font color="#ffffff"> display formatted time<br></font><font color="#ff0000"> &nbsp; time</font><font color="#ffffff"> display time with shadowed text<br></font><font color="#ff0000"> date</font><font color="#ffffff"> display date top of screen<br></font><font color="#ff0000"> clear</font><font color="#ffffff"> only areas of screen with updating text<p></font><font color="#0099ff"> Floppy af-<br></font><font color="#ffffff"> start as background task<br></font><font color="#ff0000"> &nbsp;cli sti</font><font color="#ffffff"> pentium clear and set interrupts instructions<br></font><font color="#ff0000"> irq6</font><font color="#ffffff"> floppy interrupt variable</font><font color="#ff0000"> flag</font><font color="#ffffff"> constant<br></font><font color="#ff0000"> dma</font><font color="#0099ff"> m-</font><font color="#ffffff"> initialize DMA in mode</font><font color="#0099ff"> m</font><font color="#ffffff"> to talk to disk controller<br></font><font color="#ff0000"> &nbsp;c/r</font><font color="#ffffff"> command or result<br></font><font color="#ff0000"> ready</font><font color="#ffffff"> controller ready to talk?<br></font><font color="#ff0000"> status</font><font color="#ffffff"> controller status register</font><font color="#ff00ff"> 3f4<br></font><font color="#ff0000"> c</font><font color="#0099ff"> c-</font><font color="#ffffff"> send</font><font color="#00ffff"> 1</font><font color="#ffffff"> command<br></font><font color="#ff0000"> r</font><font color="#0099ff"> -r</font><font color="#ffffff"> receive</font><font color="#00ffff"> 1</font><font color="#ffffff"> result<br></font><font color="#ff0000"> ack</font><font color="#ffffff"> acknowledge and discard result<br></font><font color="#ff0000"> int</font><font color="#ffffff"> poll interrupt<br></font><font color="#ff0000"> await</font><font color="#0099ff"> t-n</font><font color="#ffffff"> interrupt for</font><font color="#0099ff"> n</font><font color="#ffffff"> milliseconds<br></font><font color="#ff0000"> sense</font><font color="#ffffff"> interrupt and acknowledge<br></font><font color="#ff0000"> seek</font><font color="#0099ff"> c-</font><font color="#ffffff"> cylinder, recalibrate drive if</font><font color="#00ffff"> 0<br></font><font color="#ff0000"> &nbsp;r/w</font><font color="#0099ff"> cm-</font><font color="#ffffff"> read or write cylinder</font><font color="#0099ff"> c</font><font color="#ffffff"> then await and receive results<br></font><font color="#ff0000"> cread</font><font color="#0099ff"> dc-</font><font color="#ffffff"> cylinder</font><font color="#0099ff"> c</font><font color="#ffffff"> read to destination address</font><font color="#0099ff"> d<br></font><font color="#ff0000"> cwrite</font><font color="#0099ff"> sc-</font><font color="#ffffff"> cylinder</font><font color="#0099ff"> c</font><font color="#ffffff"> write from source address</font><font color="#0099ff"> s<br></font><font color="#ff0000"> op</font><font color="#ffffff"> select current operation<br></font><font color="#ff0000"> go</font><font color="#0099ff"> acn-</font><font color="#ffffff"> read/write</font><font color="#0099ff"> n</font><font color="#ffffff"> cylinders from cylinder</font><font color="#0099ff"> c</font><font color="#ffffff"> to address</font><font color="#0099ff"> a<br></font><font color="#ffffff"> &nbsp;Make sure irq6 and drive really are off<br> Spin up drive and recaliabrate<br> &nbsp;Leave drive recalibrated and off<p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p><p></font></b></font></body></html>